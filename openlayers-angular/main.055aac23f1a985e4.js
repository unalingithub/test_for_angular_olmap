"use strict";(self.webpackChunkopenlayers_angular=self.webpackChunkopenlayers_angular||[]).push([[179],{338:()=>{function ce(t){return"function"==typeof t}function Os(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ks=Os(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ii(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ce(r))try{r()}catch(s){e=s instanceof ks?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{vh(s)}catch(o){e=e??[],o instanceof ks?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ks(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vh(e);else{if(e instanceof Ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ii(n,e)}remove(e){const{_finalizers:n}=this;n&&Ii(n,e),e instanceof Ut&&e._removeParent(this)}}Ut.EMPTY=(()=>{const t=new Ut;return t.closed=!0,t})();const yh=Ut.EMPTY;function _h(t){return t instanceof Ut||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function vh(t){ce(t)?t():t.unsubscribe()}const Un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},js={setTimeout(t,e,...n){const{delegate:r}=js;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=js;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Dh(t){js.setTimeout(()=>{const{onUnhandledError:e}=Un;if(!e)throw t;e(t)})}function Eh(){}const uE=Za("C",void 0,void 0);function Za(t,e,n){return{kind:t,value:e,error:n}}let $n=null;function Vs(t){if(Un.useDeprecatedSynchronousErrorHandling){const e=!$n;if(e&&($n={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$n;if($n=null,n)throw r}}else t()}class Ka extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_h(e)&&e.add(this)):this.destination=mE}static create(e,n,r){return new Ti(e,n,r)}next(e){this.isStopped?Ya(function dE(t){return Za("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ya(function cE(t){return Za("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ya(uE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fE=Function.prototype.bind;function qa(t,e){return fE.call(t,e)}class gE{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Bs(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Bs(r)}else Bs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Bs(n)}}}class Ti extends Ka{constructor(e,n,r){let i;if(super(),ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Un.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qa(e.next,s),error:e.error&&qa(e.error,s),complete:e.complete&&qa(e.complete,s)}):i=e}this.destination=new gE(i)}}function Bs(t){Un.useDeprecatedSynchronousErrorHandling?function hE(t){Un.useDeprecatedSynchronousErrorHandling&&$n&&($n.errorThrown=!0,$n.error=t)}(t):Dh(t)}function Ya(t,e){const{onStoppedNotification:n}=Un;n&&js.setTimeout(()=>n(t,e))}const mE={closed:!0,next:Eh,error:function pE(t){throw t},complete:Eh},Xa="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ch(t){return t}let Ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function _E(t){return t&&t instanceof Ka||function yE(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}(t)&&_h(t)}(n)?n:new Ti(n,r,i);return Vs(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ih(r))((i,s)=>{const o=new Ti({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Xa](){return this}pipe(...n){return function wh(t){return 0===t.length?Ch:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Ih(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ih(t){var e;return null!==(e=t??Un.Promise)&&void 0!==e?e:Promise}const vE=Os(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qa=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Th(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vE}next(n){Vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?yh:(this.currentObservers=null,s.push(n),new Ut(()=>{this.currentObservers=null,Ii(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ke;return n.source=this,n}}return t.create=(e,n)=>new Th(e,n),t})();class Th extends Qa{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:yh}}function bi(t){return e=>{if(function DE(t){return ce(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hs(t,e,n,r,i){return new EE(t,e,n,r,i)}class EE extends Ka{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Gn(t){return this instanceof Gn?(this.v=t,this):new Gn(t)}function TE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,p){s.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Gn?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function bE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Sh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const Ah=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Rh(t){return ce(t?.then)}function xh(t){return ce(t[Xa])}function Ph(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function Nh(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Lh=function SE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Fh(t){return ce(t?.[Lh])}function Oh(t){return TE(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Gn(n.read());if(i)return yield Gn(void 0);yield yield Gn(r)}}finally{n.releaseLock()}})}function kh(t){return ce(t?.getReader)}function zn(t){if(t instanceof Ke)return t;if(null!=t){if(xh(t))return function AE(t){return new Ke(e=>{const n=t[Xa]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ah(t))return function RE(t){return new Ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Rh(t))return function xE(t){return new Ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Dh)})}(t);if(Ph(t))return jh(t);if(Fh(t))return function PE(t){return new Ke(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(kh(t))return function NE(t){return jh(Oh(t))}(t)}throw Nh(t)}function jh(t){return new Ke(e=>{(function LE(t,e){var n,r,i,s;return function wE(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=bE(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function In(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Vh(t,e,n=1/0){return ce(e)?Vh((r,i)=>function CE(t,e){return bi((n,r)=>{let i=0;n.subscribe(Hs(r,s=>{r.next(t.call(e,s,i++))}))})}((s,o)=>e(r,s,i,o))(zn(t(r,i))),n):("number"==typeof e&&(n=e),bi((r,i)=>function FE(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=p=>u<r?g(p):l.push(p),g=p=>{s&&e.next(p),u++;let y=!1;zn(n(p,c++)).subscribe(Hs(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<r;){const _=l.shift();o?In(e,o,()=>g(_)):g(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(Hs(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const Bh=new Ke(t=>t.complete());function el(t){return t[t.length-1]}function Hh(t,e=0){return bi((n,r)=>{n.subscribe(Hs(r,i=>In(r,t,()=>r.next(i),e),()=>In(r,t,()=>r.complete(),e),i=>In(r,t,()=>r.error(i),e)))})}function Uh(t,e=0){return bi((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function $h(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ke(n=>{In(n,e,()=>{const r=t[Symbol.asyncIterator]();In(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function KE(...t){const e=function VE(t){return function jE(t){return t&&ce(t.schedule)}(el(t))?t.pop():void 0}(t),n=function BE(t,e){return"number"==typeof el(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?zn(r[0]):function OE(t=1/0){return Vh(Ch,t)}(n)(function ZE(t,e){return e?function WE(t,e){if(null!=t){if(xh(t))return function HE(t,e){return zn(t).pipe(Uh(e),Hh(e))}(t,e);if(Ah(t))return function $E(t,e){return new Ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Rh(t))return function UE(t,e){return zn(t).pipe(Uh(e),Hh(e))}(t,e);if(Ph(t))return $h(t,e);if(Fh(t))return function GE(t,e){return new Ke(n=>{let r;return In(n,e,()=>{r=t[Lh](),In(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}(t,e);if(kh(t))return function zE(t,e){return $h(Oh(t),e)}(t,e)}throw Nh(t)}(t,e):zn(t)}(r,e)):Bh}function tl(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ti({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function rl(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const YE=J({__forward_ref__:J});function il(t){return t.__forward_ref__=il,t.toString=function(){return ee(this())},t}function A(t){return function sl(t){return"function"==typeof t&&t.hasOwnProperty(YE)&&t.__forward_ref__===il}(t)?t():t}function ol(t){return t&&!!t.\u0275providers}class T extends Error{constructor(e,n){super(function Us(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function z(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function N(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function $s(t,e){throw new T(-201,!1)}function st(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gs(t){return Gh(t,zs)||Gh(t,Wh)}function Gh(t,e){return t.hasOwnProperty(e)?t[e]:null}function zh(t){return t&&(t.hasOwnProperty(al)||t.hasOwnProperty(s0))?t[al]:null}const zs=J({\u0275prov:J}),al=J({\u0275inj:J}),Wh=J({ngInjectableDef:J}),s0=J({ngInjectorDef:J});var x=(()=>((x=x||{})[x.Default=0]="Default",x[x.Host=1]="Host",x[x.Self=2]="Self",x[x.SkipSelf=4]="SkipSelf",x[x.Optional=8]="Optional",x))();let ll;function pt(t){const e=ll;return ll=t,e}function Zh(t,e,n){const r=Gs(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&x.Optional?null:void 0!==e?e:void $s(ee(t))}const ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mi={},Ws="ngTempTokenPath",l0=/\n/gm,Kh="__source";let Si;function yr(t){const e=Si;return Si=t,e}function c0(t,e=x.Default){if(void 0===Si)throw new T(-203,!1);return null===Si?Zh(t,void 0,e):Si.get(t,e&x.Optional?null:void 0,e)}function Z(t,e=x.Default){return(function o0(){return ll}()||c0)(A(t),e)}function Zs(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cl(t){const e=[];for(let n=0;n<t.length;n++){const r=A(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=x.Default;for(let o=0;o<r.length;o++){const a=r[o],l=h0(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function h0(t){return t.__NG_DI_FLAG__}function Tn(t){return{toString:t}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),$t=(()=>{return(t=$t||($t={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$t;var t})();const en={},G=[],Ks=J({\u0275cmp:J}),dl=J({\u0275dir:J}),hl=J({\u0275pipe:J}),Yh=J({\u0275mod:J}),tn=J({\u0275fac:J}),Ri=J({__NG_ELEMENT_ID__:J});let p0=0;function fl(t){return Tn(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||$t.Emulated,id:"c"+p0++,styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=Jh(t.inputs,r),i.outputs=Jh(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Xh).filter(Qh):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(He).filter(Qh):null,i})}function Xh(t){return K(t)||Ne(t)}function Qh(t){return null!==t}function xi(t){return Tn(()=>({type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Jh(t,e){if(null==t)return en;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return t[Ks]||null}function Ne(t){return t[dl]||null}function He(t){return t[hl]||null}const O=11;function Ye(t){return Array.isArray(t)&&"object"==typeof t[1]}function Rt(t){return Array.isArray(t)&&!0===t[1]}function ml(t){return 0!=(4&t.flags)}function xt(t){return null!==t.template}function E0(t){return 0!=(256&t[2])}function Yn(t,e){return t.hasOwnProperty(tn)?t[tn]:null}class I0{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function nf(t){return t.type.prototype.ngOnChanges&&(t.setInput=b0),T0}function T0(){const t=sf(this),e=t?.current;if(e){const n=t.previous;if(n===en)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function b0(t,e,n,r){const i=this.declaredInputs[n],s=sf(t)||function M0(t,e){return t[rf]=e}(t,{previous:en,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new I0(l&&l.currentValue,e,a===en),t[r]=e}const rf="__ngSimpleChanges__";function sf(t){return t[rf]||null}function _e(t){for(;Array.isArray(t);)t=t[0];return t}function lt(t,e){return _e(e[t.index])}function ut(t,e){const n=e[t];return Ye(n)?n:n[0]}function no(t){return 64==(64&t[2])}function bn(t,e){return null==e?null:t[e]}function of(t){t[18]=0}function Cl(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const P={lFrame:mf(null),bindingsEnabled:!0};function lf(){return P.bindingsEnabled}function E(){return P.lFrame.lView}function $(){return P.lFrame.tView}function xe(){let t=uf();for(;null!==t&&64===t.type;)t=t.parent;return t}function uf(){return P.lFrame.currentTNode}function Gt(t,e){const n=P.lFrame;n.currentTNode=t,n.isParent=e}function wl(){return P.lFrame.isParent}function G0(t,e){const n=P.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tl(e)}function Tl(t){P.lFrame.currentDirectiveIndex=t}function Ml(t){P.lFrame.currentQueryIndex=t}function W0(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function gf(t,e,n){if(n&x.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&x.Host||(i=W0(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=P.lFrame=pf();return r.currentTNode=e,r.lView=t,!0}function Sl(t){const e=pf(),n=t[1];P.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pf(){const t=P.lFrame,e=null===t?null:t.child;return null===e?mf(t):e}function mf(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function yf(){const t=P.lFrame;return P.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _f=yf;function Al(){const t=yf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xn(t){P.lFrame.selectedIndex=t}function ro(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function io(t,e,n){vf(t,e,3,n)}function so(t,e,n,r){(3&t[2])===n&&vf(t,e,n,r)}function Rl(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function vf(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(tC(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function tC(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class ji{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Pl(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Ef(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Df(t){return 3===t||4===t||6===t}function Ef(t){return 64===t.charCodeAt(0)}function Bi(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Cf(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Cf(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function wr(t){return 32767&t}function Ir(t,e){let n=function oC(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Nl=!0;function oo(t){const e=Nl;return Nl=t,e}let aC=0;const zt={};function ao(t,e){const n=Fl(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ll(r.data,t),Ll(e,null),Ll(r.blueprint,null));const i=lo(t,e),s=t.injectorIndex;if(function wf(t){return-1!==t}(i)){const o=wr(i),a=Ir(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Ll(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fl(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function lo(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Pf(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ol(t,e,n){!function lC(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ri)&&(r=n[Ri]),null==r&&(r=n[Ri]=aC++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function bf(t,e,n){if(n&x.Optional||void 0!==t)return t;$s()}function Mf(t,e,n,r){if(n&x.Optional&&void 0===r&&(r=null),0==(n&(x.Self|x.Host))){const i=t[9],s=pt(void 0);try{return i?i.get(e,r,n&x.Optional):Zh(e,r,n&x.Optional)}finally{pt(s)}}return bf(r,0,n)}function Sf(t,e,n,r=x.Default,i){if(null!==t){if(1024&e[2]){const o=function gC(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=Af(s,o,n,r|x.Self,zt);if(a!==zt)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,zt,r);if(c!==zt)return c}l=Pf(o),o=o[15]}s=l}return i}(t,e,n,r,zt);if(o!==zt)return o}const s=Af(t,e,n,r,zt);if(s!==zt)return s}return Mf(e,n,r,i)}function Af(t,e,n,r,i){const s=function dC(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ri)?t[Ri]:void 0;return"number"==typeof e?e>=0?255&e:hC:e}(n);if("function"==typeof s){if(!gf(e,t,r))return r&x.Host?bf(i,0,r):Mf(e,n,r,i);try{const o=s(r);if(null!=o||r&x.Optional)return o;$s()}finally{_f()}}else if("number"==typeof s){let o=null,a=Fl(t,e),l=-1,u=r&x.Host?e[16][6]:null;for((-1===a||r&x.SkipSelf)&&(l=-1===a?lo(t,e):e[a+8],-1!==l&&xf(r,!1)?(o=e[1],a=wr(l),e=Ir(l,e)):a=-1);-1!==a;){const c=e[1];if(Rf(s,a,c.data)){const d=cC(a,e,n,o,r,u);if(d!==zt)return d}l=e[a+8],-1!==l&&xf(r,e[1].data[a+8]===u)&&Rf(s,a,e)?(o=c,a=wr(l),e=Ir(l,e)):a=-1}}return i}function cC(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function uo(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=o[l];if(f&&xt(f)&&f.type===n)return l}return null}(a,o,n,null==r?function Qs(t){return t.componentOffset>-1}(a)&&Nl:r!=o&&0!=(3&a.type),i&x.Host&&s===a);return null!==c?Tr(e,o,c,a):zt}function Tr(t,e,n,r){let i=t[n];const s=e.data;if(function nC(t){return t instanceof ji}(i)){const o=i;o.resolving&&function XE(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(z(s[n]));const a=oo(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?pt(o.injectImpl):null;gf(t,r,x.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function eC(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=nf(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&pt(l),oo(a),o.resolving=!1,_f()}}return i}function Rf(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function xf(t,e){return!(t&x.Self||t&x.Host&&e)}class br{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Sf(this._tNode,this._lView,e,Zs(r),n)}}function hC(){return new br(xe(),E())}function Pf(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qn(t,e){t.forEach(n=>Array.isArray(n)?Qn(n,e):e(n))}function co(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Xe=(()=>((Xe=Xe||{})[Xe.Important=1]="Important",Xe[Xe.DashCase=2]="DashCase",Xe))();const Zl=new Map;let BC=0;const ql="__ngContext__";function Oe(t,e){Ye(e)?(t[ql]=e[20],function UC(t){Zl.set(t[20],t)}(e)):t[ql]=e}function Xl(t,e){return undefined(t,e)}function Zi(t){const e=t[3];return Rt(e)?e[3]:e}function Ql(t){return ig(t[13])}function Jl(t){return ig(t[4])}function ig(t){for(;null!==t&&!Rt(t);)t=t[4];return t}function Nr(t,e,n,r,i){if(null!=r){let s,o=!1;Rt(r)?s=r:Ye(r)&&(o=!0,r=r[0]);const a=_e(r);0===t&&null!==n?null==i?cg(e,n,a):Jn(e,n,a,i||null,!0):1===t&&null!==n?Jn(e,n,a,i||null,!0):2===t?function ou(t,e,n){const r=function yo(t,e){return t.parentNode(e)}(t,e);r&&function uw(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function hw(t,e,n,r,i){const s=n[7];s!==_e(n)&&Nr(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];Ki(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function tu(t,e,n){return t.createElement(e,n)}function og(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Cl(i,-1)),n.splice(r,1)}function ru(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function lw(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ji)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function aw(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):_e(e[o]),l=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[O].destroy();const n=e[17];if(null!==n&&Rt(e[3])){n!==e[3]&&og(n,e);const r=e[19];null!==r&&r.detachView(t)}!function $C(t){Zl.delete(t[20])}(e)}}function lg(t,e,n){return function ug(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===$t.None||s===$t.Emulated)return null}return lt(r,n)}}(t,e.parent,n)}function Jn(t,e,n,r,i){t.insertBefore(e,n,r,i)}function cg(t,e,n){t.appendChild(e,n)}function dg(t,e,n,r,i){null!==r?Jn(t,e,n,r,i):cg(t,e,n)}let uu,gg=function fg(t,e,n){return 40&t.type?lt(t,n):null};function _o(t,e,n,r){const i=lg(t,r,e),s=e[O],a=function hg(t,e,n){return gg(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)dg(s,i,n[l],a,!1);else dg(s,i,n,a,!1)}function mg(t,e){return null!==e?t[16][6].projection[e.projection]:null}function au(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Oe(_e(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)au(t,e,n.child,r,i,s,!1),Nr(e,t,i,a,s);else if(32&l){const u=Xl(n,r);let c;for(;c=u();)Nr(e,t,i,c,s);Nr(e,t,i,a,s)}else 16&l?yg(t,e,r,n,i,s):Nr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ki(t,e,n,r,i,s){au(n,r,t.firstChild,e,i,s,!1)}function yg(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Nr(e,t,i,l[u],s);else au(t,e,l,o[3],i,s,!0)}function _g(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vg(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Pl(t,e,r),null!==i&&_g(t,e,i),null!==s&&function gw(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const Ng=new j("ENVIRONMENT_INITIALIZER"),Lg=new j("INJECTOR",-1),Fg=new j("INJECTOR_DEF_TYPES");class Og{get(e,n=Mi){if(n===Mi){const r=new Error(`NullInjectorError: No provider for ${ee(e)}!`);throw r.name="NullInjectorError",r}return n}}function Uw(...t){return{\u0275providers:kg(0,t),\u0275fromNgModule:!0}}function kg(t,...e){const n=[],r=new Set;let i;return Qn(e,s=>{const o=s;pu(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&jg(i,n),n}function jg(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];mu(i,s=>{e.push(s)})}}function pu(t,e,n,r){if(!(t=A(t)))return!1;let i=null,s=zh(t);const o=!s&&K(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=zh(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)pu(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Qn(s.imports,c=>{pu(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&jg(u,e)}if(!a){const u=Yn(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:G},{provide:Fg,useValue:i,multi:!0},{provide:Ng,useValue:()=>Z(i),multi:!0})}const l=s.providers;null==l||a||mu(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}function mu(t,e){for(let n of t)ol(n)&&(n=n.\u0275providers),Array.isArray(n)?mu(n,e):e(n)}const $w=J({provide:String,useValue:J});function yu(t){return null!==t&&"object"==typeof t&&$w in t}function tr(t){return"function"==typeof t}const _u=new j("Set Injector scope."),wo={},zw={};let vu;function Io(){return void 0===vu&&(vu=new Og),vu}class Lr{}class Hg extends Lr{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Eu(e,o=>this.processProvider(o)),this.records.set(Lg,Fr(void 0,this)),i.has("environment")&&this.records.set(Lr,Fr(void 0,this));const s=this.records.get(_u);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Fg.multi,G,x.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=yr(this),r=pt(void 0);try{return e()}finally{yr(n),pt(r)}}get(e,n=Mi,r=x.Default){this.assertNotDestroyed(),r=Zs(r);const i=yr(this),s=pt(void 0);try{if(!(r&x.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function Yw(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&Gs(e);a=l&&this.injectableDefInScope(l)?Fr(Du(e),wo):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&x.Self?Io():this.parent).get(e,n=r&x.Optional&&n===Mi?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ws]=o[Ws]||[]).unshift(ee(e)),i)throw o;return function f0(t,e,n,r){const i=t[Ws];throw e[Kh]&&i.unshift(e[Kh]),t.message=function g0(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ee(e);if(Array.isArray(e))i=e.map(ee).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ee(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(l0,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ws]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{pt(s),yr(i)}}resolveInjectorInitializers(){const e=yr(this),n=pt(void 0);try{const r=this.get(Ng.multi,G,x.Self);for(const i of r)i()}finally{yr(e),pt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ee(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=tr(e=A(e))?e:A(e&&e.provide);const r=function Zw(t){return yu(t)?Fr(void 0,t.useValue):Fr(function Ug(t,e,n){let r;if(tr(t)){const i=A(t);return Yn(i)||Du(i)}if(yu(t))r=()=>A(t.useValue);else if(function Bg(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...cl(t.deps||[]));else if(function Vg(t){return!(!t||!t.useExisting)}(t))r=()=>Z(A(t.useExisting));else{const i=A(t&&(t.useClass||t.provide));if(!function Kw(t){return!!t.deps}(t))return Yn(i)||Du(i);r=()=>new i(...cl(t.deps))}return r}(t),wo)}(e);if(tr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Fr(void 0,wo,!0),i.factory=()=>cl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===wo&&(n.value=zw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qw(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=A(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Du(t){const e=Gs(t),n=null!==e?e.factory:Yn(t);if(null!==n)return n;if(t instanceof j)throw new T(204,!1);if(t instanceof Function)return function Ww(t){const e=t.length;if(e>0)throw function $i(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function n0(t){const e=t&&(t[zs]||t[Wh]);if(e){const n=function r0(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function Fr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Eu(t,e){for(const n of t)Array.isArray(n)?Eu(n,e):n&&ol(n)?Eu(n.\u0275providers,e):e(n)}class Xw{}class $g{}class Jw{resolveComponentFactory(e){throw function Qw(t){const e=Error(`No component factory found for ${ee(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let To=(()=>{class t{}return t.NULL=new Jw,t})();function eI(){return Or(xe(),E())}function Or(t,e){return new kr(lt(t,e))}let kr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=eI,t})();class zg{}let rI=(()=>{class t{}return t.\u0275prov=se({token:t,providedIn:"root",factory:()=>null}),t})();class Cu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iI=new Cu("15.0.0"),wu={};function Tu(t){return t.ngOriginalError}class jr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Tu(e);for(;n&&Tu(n);)n=Tu(n);return n||null}}function Kg(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const qg="ng-template";function pI(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Kg(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yg(t){return 4===t.type&&t.value!==qg}function mI(t,e,n){return e===(4!==t.type||n?t.value:qg)}function yI(t,e,n){let r=4;const i=t.attrs||[],s=function DI(t){for(let e=0;e<t.length;e++)if(Df(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!mI(t,l,n)||""===l&&1===e.length){if(Pt(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!pI(t.attrs,u,n)){if(Pt(r))return!1;o=!0}continue}const d=_I(8&r?"class":l,i,Yg(t),n);if(-1===d){if(Pt(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Kg(f,u,0)||2&r&&u!==h){if(Pt(r))return!1;o=!0}}}}else{if(!o&&!Pt(r)&&!Pt(l))return!1;if(o&&Pt(l))continue;o=!1,r=l|1&r}}return Pt(r)||o}function Pt(t){return 0==(1&t)}function _I(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function EI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Xg(t,e,n=!1){for(let r=0;r<e.length;r++)if(yI(t,e[r],n))return!0;return!1}function Qg(t,e){return t?":not("+e.trim()+")":e}function wI(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Pt(o)&&(e+=Qg(s,i),i=""),r=o,s=s||!Pt(r);n++}return""!==i&&(e+=Qg(s,i)),e}const L={};function rp(t,e=null,n=null,r){const i=ip(t,e,n,r);return i.resolveInjectorInitializers(),i}function ip(t,e=null,n=null,r,i=new Set){const s=[n||G,Uw(t)];return r=r||("object"==typeof t?void 0:ee(t)),new Hg(s,e||Io(),r||null,i)}let nr=(()=>{class t{static create(n,r){if(Array.isArray(n))return rp({name:""},r,n,"");{const i=n.name??"";return rp({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Mi,t.NULL=new Og,t.\u0275prov=se({token:t,providedIn:"any",factory:()=>Z(Lg)}),t.__NG_ELEMENT_ID__=-1,t})();function V(t,e=x.Default){const n=E();return null===n?Z(t,e):Sf(xe(),n,A(t),e)}function Ep(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ml(i),o.contentQueries(2,e[s],s)}}}function Ro(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||t&&1024&t[2])&&(d[2]|=1024),of(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[O]=a||t&&t[O],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[20]=function HC(){return BC++}(),d[21]=c,d[16]=2==e.type?t[16]:d,d}function Hr(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Bu(t,e,n,r,i){const s=uf(),o=wl(),l=t.data[e]=function aT(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),function $0(){return P.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ki(){const t=P.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Gt(s,!0),s}function Qi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Hu(t,e,n){Sl(e);try{const r=t.viewQuery;null!==r&&Xu(1,r,n);const i=t.template;null!==i&&Cp(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ep(t,e),t.staticViewQueries&&Xu(2,t.viewQuery,n);const s=t.components;null!==s&&function iT(t,e){for(let n=0;n<e.length;n++)bT(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Al()}}function xo(t,e,n,r){const i=e[2];if(128!=(128&i)){Sl(e);try{of(e),function df(t){return P.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Cp(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&io(e,u,null)}else{const u=t.preOrderHooks;null!==u&&so(e,u,0,null),Rl(e,0)}if(function IT(t){for(let e=Ql(t);null!==e;e=Jl(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Cl(s,1),i[2]|=512}}}(e),function wT(t){for(let e=Ql(t);null!==e;e=Jl(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];no(r)&&xo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ep(t,e),o){const u=t.contentCheckHooks;null!==u&&io(e,u)}else{const u=t.contentHooks;null!==u&&so(e,u,1),Rl(e,1)}!function nT(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Xn(~i);else{const s=i,o=n[++r],a=n[++r];G0(o,s),a(2,e[s])}}}finally{Xn(-1)}}(t,e);const a=t.components;null!==a&&function rT(t,e){for(let n=0;n<e.length;n++)TT(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Xu(2,l,r),o){const u=t.viewCheckHooks;null!==u&&io(e,u)}else{const u=t.viewHooks;null!==u&&so(e,u,2),Rl(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Cl(e[3],-1))}finally{Al()}}}function Cp(t,e,n,r,i){const s=function $e(){return P.lFrame.selectedIndex}(),o=2&r;try{Xn(-1),o&&e.length>22&&function Jg(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&io(e,s,n)}else{const s=t.preOrderHooks;null!==s&&so(e,s,0,n)}Xn(n)}(t,e,22,!1),n(r,i)}finally{Xn(s)}}function Uu(t,e,n){if(ml(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function wp(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=zu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function zu(t,e,n,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function sT(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:L);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Tp(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?bp(n,e,i,s):r.hasOwnProperty(i)&&bp(n,e,r[i],s)}return n}function bp(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Sp(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Ol(ao(n,e),t,r[u].type);!function _T(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Qi(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Bi(n.mergedAttrs,c.hostAttrs),vT(t,n,e,l,c),yT(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function lT(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=n?n.get(d):null,g=h?h.outputs:null;l=Tp(d.inputs,c,l,h?h.inputs:null),u=Tp(d.outputs,c,u,g);const p=null===l||null===o||Yg(e)?null:CT(l,c,o);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,s)}function Ap(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function z0(){return P.lFrame.currentDirectiveIndex}();try{Xn(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Tl(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&gT(l,u)}}finally{Xn(-1),Tl(o)}}function gT(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zu(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function yT(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xt(e)&&(n[""]=t)}}function vT(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Yn(i.type)),o=new ji(s,xt(i),V);t.blueprint[r]=o,n[r]=o,function dT(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function hT(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Qi(t,n,i.hostVars,L),i)}function DT(t,e,n){const r=lt(e,t),i=wp(n),s=t[10],o=Po(t,Ro(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function ET(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function CT(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function TT(t,e){const n=ut(e,t);if(no(n)){const r=n[1];48&n[2]?xo(r,n,r.template,n[8]):n[5]>0&&qu(n)}}function qu(t){for(let r=Ql(t);null!==r;r=Jl(r))for(let i=10;i<r.length;i++){const s=r[i];if(no(s))if(512&s[2]){const o=s[1];xo(o,s,o.template,s[8])}else s[5]>0&&qu(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ut(n[r],t);no(i)&&i[5]>0&&qu(i)}}function bT(t,e){const n=ut(e,t),r=n[1];(function MT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Hu(r,n,n[8])}function Po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function No(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{xo(t,e,t.template,n)}catch(o){throw r&&function Lp(t,e){const n=t[9],r=n?n.get(jr,null):null;r&&r.handleError(e)}(e,o),o}finally{i.end&&i.end()}}function Xu(t,e,n){Ml(0),e(t,n)}function Qu(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Lo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=rl(i,a):2==s&&(r=rl(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Fo(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(_e(s)),Rt(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Fo(l[1],l,u,r)}const o=n.type;if(8&o)Fo(t,e,n.child,r);else if(32&o){const a=Xl(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=mg(e,n);if(Array.isArray(a))r.push(...a);else{const l=Zi(e[16]);Fo(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ji{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Fo(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Rt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(function nu(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&og(i,r),e>0&&(t[n-1][4]=r[4]);const s=co(t,10+e);!function tw(t,e){Ki(t,e,e[O],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}(e,r),co(n,r))}this._attachedToViewContainer=!1}!function ag(t,e){if(!(128&e[2])){const n=e[O];n.destroyNode&&Ki(t,e,n,3,null,null),function iw(t){let e=t[13];if(!e)return ru(t[1],t);for(;e;){let n=null;if(Ye(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ye(e)&&ru(e[1],e),e=e[3];null===e&&(e=t),Ye(e)&&ru(e[1],e),n=e&&e[4]}e=n}}(e)}}(this._lView[1],this._lView)}onDestroy(e){!function Ip(t,e,n,r){const i=function xp(t){return t[7]||(t[7]=[])}(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&function Pp(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){!function Yu(t){for(;t;){t[2]|=32;const e=Zi(t);if(E0(t)&&!e)return t;t=e}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){No(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rw(t,e){Ki(t,e,e[O],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class ST extends Ji{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;No(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Ju extends To{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=K(e);return new es(n,this.ngModule)}}function Fp(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class RT{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zs(r);const i=this.injector.get(e,wu,r);return i!==wu||n===wu?i:this.parentInjector.get(e,n,r)}}class es extends $g{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function II(t){return t.map(wI).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Fp(this.componentDef.inputs)}get outputs(){return Fp(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Lr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new RT(e,s):e,a=o.get(zg,null);if(null===a)throw new T(407,!1);const l=o.get(rI,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function oT(t,e,n){return t.selectRootElement(e,n===$t.ShadowDom)}(u,r,this.componentDef.encapsulation):tu(u,c,function AT(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=zu(0,null,null,1,0,null,null,null,null,null),g=Ro(null,f,null,h,null,null,a,u,l,o,null);let p,y;Sl(g);try{const _=this.componentDef;let v,m=null;_.findHostDirectiveDefs?(v=[],m=new Map,_.findHostDirectiveDefs(_,v,m),v.push(_)):v=[_];const D=function NT(t,e){const n=t[1];return t[22]=e,Hr(n,22,2,"#host",null)}(g,d),C=function LT(t,e,n,r,i,s,o,a){const l=i[1];!function FT(t,e,n,r){for(const i of t)e.mergedAttrs=Bi(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Lo(e,e.mergedAttrs,!0),null!==n&&vg(r,n,e))}(r,t,e,o);const u=s.createRenderer(e,n),c=Ro(i,wp(n),null,n.onPush?32:16,i[t.index],t,s,u,a||null,null,null);return l.firstCreatePass&&Zu(l,t,r.length-1),Po(i,c),i[t.index]=c}(D,d,_,v,g,a,u);y=function El(t,e){return t.data[e]}(f,22),d&&function kT(t,e,n,r){if(r)Pl(t,n,["ng-version",iI.full]);else{const{attrs:i,classes:s}=function TI(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Pt(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Pl(t,n,i),s&&s.length>0&&_g(t,n,s.join(" "))}}(u,_,d,r),void 0!==n&&function jT(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),p=function OT(t,e,n,r,i,s){const o=xe(),a=i[1],l=lt(o,i);Sp(a,i,o,n,null,r);for(let c=0;c<n.length;c++)Oe(Tr(i,a,o.directiveStart+c,o),i);Ap(a,i,o),l&&Oe(l,i);const u=Tr(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=u,null!==s)for(const c of s)c(u,e);return Uu(a,o,t),u}(C,_,v,m,g,[VT]),Hu(f,g,null)}finally{Al()}return new PT(this.componentType,p,Or(y,g),g,y)}}class PT extends Xw{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new ST(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Qu(s[1],s,i,e,n),function Mp(t,e){const n=ut(e,t);16&n[2]||(n[2]|=32)}(s,this._tNode.index)}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function VT(){const t=xe();ro(E()[1],t)}function nc(t,e,n,r,i){const o=i?"class":"style";Qu(t,n,e.inputs[o],o,r)}function Xr(t,e,n,r){const i=E(),s=$(),o=22+t,a=i[O],l=i[o]=tu(a,e,function J0(){return P.lFrame.currentNamespace}()),u=s.firstCreatePass?function rb(t,e,n,r,i,s,o){const a=e.consts,u=Hr(e,t,2,i,bn(a,s));return function Wu(t,e,n,r){let i=!1;if(lf()){const s=null===r?null:{"":-1},o=function pT(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Xg(e,o.selectors,!1))if(r||(r=[]),xt(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Zu(t,e,a.length)}else r.unshift(o),Zu(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&(i=!0,Sp(t,e,n,a,s,l)),s&&function mT(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=Bi(n.mergedAttrs,n.attrs),i}(e,n,u,bn(a,o)),null!==u.attrs&&Lo(u,u.attrs,!1),null!==u.mergedAttrs&&Lo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];return Gt(u,!0),vg(a,l,u),32!=(32&u.flags)&&_o(s,i,l,u),0===function F0(){return P.lFrame.elementDepthCount}()&&Oe(l,i),function O0(){P.lFrame.elementDepthCount++}(),function Js(t){return 1==(1&t.flags)}(u)&&(function $u(t,e,n){!lf()||(function fT(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ao(n,e),Oe(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=xt(l);u&&DT(e,n,l);const c=Tr(e,t,a,n);Oe(c,e),null!==o&&ET(0,a-i,c,l,0,o),u&&(ut(n.index,e)[8]=c)}}(t,e,n,lt(n,e)),64==(64&n.flags)&&Ap(t,e,n))}(s,i,u),Uu(s,u,i)),null!==r&&function Gu(t,e,n=lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,u),Xr}function Qr(){let t=xe();wl()?function Il(){P.lFrame.isParent=!1}():(t=t.parent,Gt(t,!1));const e=t;!function k0(){P.lFrame.elementDepthCount--}();const n=$();return n.firstCreatePass&&(ro(n,t),ml(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function iC(t){return 0!=(8&t.flags)}(e)&&nc(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function sC(t){return 0!=(16&t.flags)}(e)&&nc(n,e,E(),e.stylesWithoutHost,!1),Qr}function rc(t,e,n,r){return Xr(t,e,n,r),Qr(),rc}function oc(t){return!!t&&"function"==typeof t.then}const ob=function Jp(t){return!!t&&"function"==typeof t.subscribe};function uc(t,e=""){const n=E(),r=$(),i=t+22,s=r.firstCreatePass?Hr(r,i,1,e,null):r.data[i],o=n[i]=function eu(t,e){return t.createText(e)}(n[O],e);_o(r,n,o,s),Gt(s,!1)}const ti="en-US";let Xm=ti;class ni{}class qM{}class wy extends ni{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ju(this);const r=function ot(t,e){const n=t[Yh]||null;if(!n&&!0===e)throw new Error(`Type ${ee(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function on(t){return t instanceof Function?t():t}(r.bootstrap),this._r3Injector=ip(e,n,[{provide:ni,useValue:this},{provide:To,useValue:this.componentFactoryResolver}],ee(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yc extends qM{constructor(e){super(),this.moduleType=e}create(e){return new wy(this.moduleType,e)}}function vc(t){return e=>{setTimeout(t,void 0,e)}}const un=class TS extends Qa{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=vc(s),i&&(i=vc(i)),o&&(o=vc(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ut&&e.add(a),a}};function zo(...t){}const l_=new j("Application Initializer");let Wo=(()=>{class t{constructor(n){this.appInits=n,this.resolve=zo,this.reject=zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(oc(s))n.push(s);else if(ob(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Z(l_,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hs=new j("AppId",{providedIn:"root",factory:function u_(){return`${xc()}${xc()}${xc()}`}});function xc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const c_=new j("Platform Initializer"),d_=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cA=new j("appBootstrapListener"),dn=new j("LocaleId",{providedIn:"root",factory:()=>function d0(t,e=x.Default){return Z(t,Zs(e))}(dn,x.Optional|x.SkipSelf)||function dA(){return typeof $localize<"u"&&$localize.locale||ti}()}),mA=(()=>Promise.resolve(0))();function Pc(t){typeof Zone>"u"?mA.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new un(!1),this.onMicrotaskEmpty=new un(!1),this.onStable=new un(!1),this.onError=new un(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yA(){let t=ne.requestAnimationFrame,e=ne.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function DA(t){const e=()=>{!function vA(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lc(t),t.isCheckStableRunning=!0,Nc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return g_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),p_(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return g_(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),p_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Lc(t),Nc(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_A,zo,zo);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const _A={};function Nc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function g_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function p_(t){t._nesting--,Nc(t)}class EA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new un,this.onMicrotaskEmpty=new un,this.onStable=new un,this.onError=new un}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const m_=new j(""),Zo=new j("");let kc,Fc=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kc||(function CA(t){kc=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),Pc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pc(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Z(je),Z(Oc),Z(Zo))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Oc=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return kc?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),xn=null;const y_=new j("AllowMultipleToken"),jc=new j("PlatformDestroyListeners");function v_(t,e,n=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=Vc();if(!o||o.injector.get(y_,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function TA(t){if(xn&&!xn.get(y_,!1))throw new T(400,!1);xn=t;const e=t.get(E_);(function __(t){const e=t.get(c_,null);e&&e.forEach(n=>n())})(t)}(function D_(t=[],e){return nr.create({name:e,providers:[{provide:_u,useValue:"platform"},{provide:jc,useValue:new Set([()=>xn=null])},...t]})}(a,r))}return function MA(t){const e=Vc();if(!e)throw new T(401,!1);return e}()}}function Vc(){return xn?.get(E_)??null}let E_=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function w_(t,e){let n;return n="noop"===t?new EA:("zone.js"===t?void 0:t)||new je(e),n}(r?.ngZone,function C_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:je,useValue:i}];return i.run(()=>{const o=nr.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(jr,null);if(!l)throw new T(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Ko(this._modules,a),u.unsubscribe()})}),function I_(t,e,n){try{const r=n();return oc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Wo);return u.runInitializers(),u.donePromise.then(()=>(function Qm(t){st(t,"Expected localeId to be defined"),"string"==typeof t&&(Xm=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(dn,ti)||ti),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=T_({},r);return function wA(t,e,n){const r=new yc(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Bc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(jc,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Z(nr))},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function T_(t,e){return Array.isArray(e)?e.reduce(T_,t):{...t,...e}}let Bc=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ke(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ke(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),Pc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=KE(s,o.pipe(function qE(t={}){const{connector:e=(()=>new Qa),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},g=()=>{const p=o;f(),p?.unsubscribe()};return bi((p,y)=>{u++,!d&&!c&&h();const _=l=l??e();y.add(()=>{u--,0===u&&!d&&!c&&(a=tl(g,i))}),_.subscribe(y),!o&&u>0&&(o=new Ti({next:v=>_.next(v),error:v=>{d=!0,h(),a=tl(f,n,v),_.error(v)},complete:()=>{c=!0,h(),a=tl(f,r),_.complete()}}),zn(p).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof $g;if(!this._injector.get(Wo).done)throw!i&&function Pi(t){const e=K(t)||Ne(t)||He(t);return null!==e&&e.standalone}(n),new T(405,false);let o;o=i?n:this._injector.get(To).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function IA(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ni),u=o.create(nr.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(m_,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Ko(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ko(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(cA,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ko(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(Z(je),Z(Lr),Z(jr))},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ko(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const GA=v_(null,"core",[]);let zA=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Z(Bc))},t.\u0275mod=xi({type:t}),t.\u0275inj=mr({}),t})(),Qo=null;function gs(){return Qo}class KA{}const fn=new j("DocumentToken");let px=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xi({type:t}),t.\u0275inj=mr({}),t})();class Zx extends KA{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class od extends Zx{static makeCurrent(){!function ZA(t){Qo||(Qo=t)}(new od)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Kx(){return _s=_s||document.querySelector("base"),_s?_s.getAttribute("href"):null}();return null==n?null:function qx(t){ua=ua||document.createElement("a"),ua.setAttribute("href",t);const e=ua.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){_s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function NR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ua,_s=null;const iv=new j("TRANSITION_ID"),Xx=[{provide:l_,useFactory:function Yx(t,e,n){return()=>{n.get(Wo).donePromise.then(()=>{const r=gs(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[iv,fn,nr],multi:!0}];let Jx=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const ca=new j("EventManagerPlugins");let da=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Z(ca),Z(je))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class sv{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=gs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let ov=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),vs=(()=>{class t extends ov{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(av),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(av))}}return t.\u0275fac=function(n){return new(n||t)(Z(fn))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function av(t){gs().remove(t)}const ad={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ld=/%COMP%/g;function ha(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ha(t,i,n):(i=i.replace(ld,t),n.push(i))}return n}function cv(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ud=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new cd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case $t.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new s1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case $t.ShadowDom:return new o1(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ha(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Z(da),Z(vs),Z(hs))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class cd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(ad[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(hv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(hv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=ad[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ad[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xe.DashCase|Xe.Important)?e.style.setProperty(n,r,i&Xe.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xe.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,cv(r)):this.eventManager.addEventListener(e,n,cv(r))}}function hv(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class s1 extends cd{constructor(e,n,r,i){super(e),this.component=r;const s=ha(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function n1(t){return"_ngcontent-%COMP%".replace(ld,t)}(i+"-"+r.id),this.hostAttr=function r1(t){return"_nghost-%COMP%".replace(ld,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class o1 extends cd{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ha(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let a1=(()=>{class t extends sv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Z(fn))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const fv=["alt","control","meta","shift"],l1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let c1=(()=>{class t extends sv{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),fv.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=l1[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fv.forEach(o=>{o!==i&&(0,u1[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Z(fn))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const g1=v_(GA,"browser",[{provide:d_,useValue:"browser"},{provide:c_,useValue:function d1(){od.makeCurrent()},multi:!0},{provide:fn,useFactory:function f1(){return function _w(t){uu=t}(document),document},deps:[]}]),mv=new j(""),yv=[{provide:Zo,useClass:class Qx{addToWindow(e){ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),ne.getAllAngularRootElements=()=>e.getAllRootElements(),ne.frameworkStabilizers||(ne.frameworkStabilizers=[]),ne.frameworkStabilizers.push(r=>{const i=ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?gs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:m_,useClass:Fc,deps:[je,Oc,Zo]},{provide:Fc,useClass:Fc,deps:[je,Oc,Zo]}],_v=[{provide:_u,useValue:"root"},{provide:jr,useFactory:function h1(){return new jr},deps:[]},{provide:ca,useClass:a1,multi:!0,deps:[fn,je,d_]},{provide:ca,useClass:c1,multi:!0,deps:[fn]},{provide:ud,useClass:ud,deps:[da,vs,hs]},{provide:zg,useExisting:ud},{provide:ov,useExisting:vs},{provide:vs,useClass:vs,deps:[fn]},{provide:da,useClass:da,deps:[ca,je]},{provide:class Dx{},useClass:Jx,deps:[]},[]];let p1=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:hs,useValue:n.appId},{provide:iv,useExisting:hs},Xx]}}}return t.\u0275fac=function(n){return new(n||t)(Z(mv,12))},t.\u0275mod=xi({type:t}),t.\u0275inj=mr({providers:[..._v,...yv],imports:[px,zA]}),t})();typeof window<"u"&&window;const Nn=class T1{constructor(e){this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},fd=class b1{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function fa(t,e){return t>e?1:t<e?-1:0}function gd(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;{let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}}function pd(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ga(){return!0}function pa(){return!1}function Es(){}function Cs(t){for(const e in t)delete t[e]}const md=class x1 extends fd{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n="string"==typeof e,r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Nn(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;r in o||(o[r]=0,a[r]=0),++o[r];for(let u=0,c=i.length;u<c;++u)if(l="handleEvent"in i[u]?i[u].handleEvent(s):i[u].call(this,s),!1===l||s.propagationStopped){l=!1;break}if(0==--o[r]){let u=a[r];for(delete a[r];u--;)this.removeEventListener(r,Es);delete o[r]}return l}disposeInternal(){this.listeners_&&Cs(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=Es,++this.pendingRemovals_[e]):(r.splice(i,1),0===r.length&&delete this.listeners_[e]))}}};function q(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function ma(t,e,n,r){return q(t,e,n,r,!0)}function me(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Cs(t))}const Ev=class ya extends md{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=q(this,e[s],n);return i}return q(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=ma(this,e[s],n)}else r=ma(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)!function P1(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)me(t[e]);else me(t)}(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}};function ue(){throw new Error("Unimplemented abstract method.")}let N1=0;function Je(t){return t.ol_uid||(t.ol_uid=String(++N1))}class Cv extends Nn{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}const pn=class L1 extends Ev{constructor(e){super(),Je(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new Cv(r,e,n)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new Cv(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){!e.values_||Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],function R1(t){let e;for(e in t)return!1;return!e}(this.values_)&&(this.values_=null),n||this.notify(e,r)}}},F1={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection"};class O1 extends Error{constructor(e){const n=F1[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}const wv=O1;class _a extends Nn{constructor(e,n,r){super(e),this.element=n,this.index=r}}const mn=class k1 extends pn{constructor(e,n){if(super(),this.unique_=!!(n=n||{}).unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new _a("add",n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new _a("remove",n,e)),n}setAt(e,n){if(e>=this.getLength())return void this.insertAt(e,n);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new _a("remove",i,e)),this.dispatchEvent(new _a("add",n,e))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new wv(58)}},Ln=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",j1=Ln.includes("firefox"),V1=(Ln.includes("safari")&&!Ln.includes("chrom")&&(Ln.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ln)),Ln.includes("webkit")&&!Ln.includes("edge")),B1=Ln.includes("macintosh"),Tv=typeof devicePixelRatio<"u"?devicePixelRatio:1,yd=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,H1=typeof Image<"u"&&Image.prototype.decode,bv=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function Q(t,e){if(!t)throw new wv(e)}function wt(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function si(t,e,n,r,i,s,o,a){const l=Math.sin(s),u=Math.cos(s);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=o*r*u-a*r*l+e,t[5]=o*i*l+a*i*u+n,t}function Dd(t,e){const n=function U1(t){return t[0]*t[3]-t[1]*t[2]}(e);Q(0!==n,32);const r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*l-o*a)/n,t[5]=-(r*l-i*a)/n,t}let Mv;new Array(6);function Av(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,r=t.length;n<r;++n)Is(e,t[n]);return e}function Rv(t,e,n){let r,i;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+i*i}function Ed(t,e){return xv(t,e[0],e[1])}function xv(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Pv(t,e){const o=e[0],a=e[1];let l=0;return o<t[0]?l|=16:o>t[2]&&(l|=4),a<t[1]?l|=8:a>t[3]&&(l|=2),0===l&&(l=1),l}function ur(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function oi(t){return ur(1/0,1/0,-1/0,-1/0,t)}function Cd(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Is(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Lv(t,e,n,r,i){for(;n<r;n+=i)Y1(t,e[n],e[n+1]);return t}function Y1(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Fv(t,e){let n;return n=e(Da(t)),!!(n||(n=e(Ea(t)),n)||(n=e(Ca(t)),n)||(n=e(cr(t)),n))&&n}function va(t){let e=0;return Td(t)||(e=fe(t)*Vt(t)),e}function Da(t){return[t[0],t[1]]}function Ea(t){return[t[2],t[1]]}function ai(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function X1(t,e){let n;return"bottom-left"===e?n=Da(t):"bottom-right"===e?n=Ea(t):"top-left"===e?n=cr(t):"top-right"===e?n=Ca(t):Q(!1,13),n}function wd(t,e,n,r,i){const[s,o,a,l,u,c,d,h]=Id(t,e,n,r);return ur(Math.min(s,a,u,d),Math.min(o,l,c,h),Math.max(s,a,u,d),Math.max(o,l,c,h),i)}function Id(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),a=Math.sin(n),l=i*o,u=i*a,c=s*o,d=s*a,h=t[0],f=t[1];return[h-l+d,f-u-c,h-l-d,f-u+c,h+l-d,f+u+c,h+l+d,f+u-c,h-l+d,f-u-c]}function Vt(t){return t[3]-t[1]}function li(t,e,n){const r=n||[1/0,1/0,-1/0,-1/0];return wa(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):oi(r),r}function cr(t){return[t[0],t[3]]}function Ca(t){return[t[2],t[3]]}function fe(t){return t[2]-t[0]}function wa(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Td(t){return t[2]<t[0]||t[3]<t[1]}function Re(t,e,n){return Math.min(Math.max(t,e),n)}function nP(t,e,n,r,i,s){const o=i-n,a=s-r;if(0!==o||0!==a){const l=((t-n)*o+(e-r)*a)/(o*o+a*a);l>1?(n=i,r=s):l>0&&(n+=o*l,r+=a*l)}return ui(t,e,n,r)}function ui(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function Ia(t){return t*Math.PI/180}function ci(t,e){const n=t%e;return n*e<0?n+e:n}function iP(t,e,n){return t+n*(e-t)}function bd(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Ta(t,e){return Math.floor(bd(t,e))}function ba(t,e){return Math.ceil(bd(t,e))}const Ov=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,kv=/^([a-z]*)$|^hsla?\(.*\)$/i;const oP=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let s=0;for(const o in e)0==(3&s++)&&(delete e[o],--n)}i=function aP(t){let e,n,r,i,s;if(kv.exec(t)&&(t=function jv(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),Ov.exec(t)){const o=t.length-1;let a;a=o<=4?1:2;const l=4===o||8===o;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),s=[e,n,r,i/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),Bv(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),Bv(s)):Q(!1,14);return s}(r),e[r]=i,++n}return i}}();function Vv(t){return Array.isArray(t)?t:oP(t)}function Bv(t){return t[0]=Re(t[0]+.5|0,0,255),t[1]=Re(t[1]+.5|0,0,255),t[2]=Re(t[2]+.5|0,0,255),t[3]=Re(t[3],0,1),t}function Hv(t,e,n){return e+":"+t+":"+(n?function sP(t){return"string"==typeof t?t:function lP(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}(t)}(n):"null")}const Uv=new class uP{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];0==(3&e++)&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,r){const i=Hv(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=Hv(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}},$v=class cP extends pn{constructor(e){super(),this.background_=e.background;const n=Object.assign({},e);"object"==typeof e.properties&&(delete n.properties,Object.assign(n,e.properties)),n.opacity=void 0!==e.opacity?e.opacity:1,Q("number"==typeof n.opacity,64),n.visible=void 0===e.visible||e.visible,n.zIndex=e.zIndex,n.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,n.minResolution=void 0!==e.minResolution?e.minResolution:0,n.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,n.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return n.opacity=Re(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==r||n.managed?r:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ue()}getLayerStatesArray(e){return ue()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return ue()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set("extent",e)}setMaxResolution(e){this.set("maxResolution",e)}setMinResolution(e){this.set("minResolution",e)}setMaxZoom(e){this.set("maxZoom",e)}setMinZoom(e){this.set("minZoom",e)}setOpacity(e){Q("number"==typeof e,64),this.set("opacity",e)}setVisible(e){this.set("visible",e)}setZIndex(e){this.set("zIndex",e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}};function Md(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const Sd=class dP extends $v{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed()}handleSourcePropertyChange_(){this.sourceChangeKey_&&(me(this.sourceChangeKey_),this.sourceChangeKey_=null);const e=this.getSource();e&&(this.sourceChangeKey_=q(e,"change",this.handleSourceChange_,this)),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(n=>n([]))}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(me(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(me(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=q(e,"precompose",function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);Q(!i.some(function(o){return o.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=q(this,"change",e.render,e),this.changed())}setSource(e){this.set("source",e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Ma(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Ad(t,e){const n=Math.cos(e),r=Math.sin(e),s=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=s,t}function DP(t,e){Uv.expire()}const EP=class vP extends fd{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ue()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;si(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Dd(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,a,l){let u;const c=n.viewState;function d(D,C,b,H){return s.call(o,C,D?b:null,H)}const h=c.projection,f=function yP(t,e){if(e.canWrapX()){const n=fe(e.getExtent()),r=function _P(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||fe(r),i=Math.floor((t[0]-r[0])/n)),i}(t,e,n);r&&(t[0]-=r*n)}return t}(e.slice(),h),g=[[0,0]];if(h.canWrapX()&&i){const C=fe(h.getExtent());g.push([-C,0],[C,0])}const p=n.layerStatesArray,y=p.length,_=[],v=[];for(let D=0;D<g.length;D++)for(let C=y-1;C>=0;--C){const b=p[C],H=b.layer;if(H.hasRenderer()&&Md(b,c)&&a.call(l,H)){const te=H.getRenderer(),ye=H.getSource();if(te&&ye){const Me=ye.getWrapX()?f:e,et=d.bind(null,b.managed);v[0]=Me[0]+g[D][0],v[1]=Me[1]+g[D][1],u=te.forEachFeatureAtCoordinate(v,n,r,et,_)}if(u)return u}}if(0===_.length)return;const m=1/_.length;return _.forEach((D,C)=>D.distanceSq+=C*m),_.sort((D,C)=>D.distanceSq-C.distanceSq),_.some(D=>u=D.callback(D.feature,D.layer,D.geometry)),u}hasFeatureAtCoordinate(e,n,r,i,s,o){return void 0!==this.forEachFeatureAtCoordinate(e,n,r,i,ga,this,s,o)}getMap(){return this.map_}renderFrame(e){ue()}scheduleExpireIconCache(e){Uv.canExpireCache()&&e.postRenderFunctions.push(DP)}},Wv=class CP extends Nn{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}},Sa="ol-hidden",Aa="ol-unselectable",Rd="ol-control",Zv="ol-collapsed";new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i");function Ts(t,e,n,r){let i;return i=n&&n.length?n.shift():yd?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Yv(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function xd(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}const yn=new pn;const RP=class AP extends EP{constructor(e){super(e),this.fontChangeListenerKey_=q(yn,"propertychange",e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Aa+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new Wv(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){me(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const n=e.layerStatesArray.sort(function(o,a){return o.zIndex-a.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let s=null;for(let o=0,a=n.length;o<a;++o){const l=n[o];e.layerIndex=o;const u=l.layer,c=u.getSourceState();if(!Md(l,r)||"ready"!=c&&"undefined"!=c){u.unrender();continue}const d=u.render(e,s);!d||(d!==s&&(this.children_.push(d),s=d),"getDeclutter"in u&&i.push(u))}for(let o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);(function bP(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};class On extends Nn{constructor(e,n){super(e),this.layer=n}}class Fd extends $v{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),r?Array.isArray(r)?r=new mn(r.slice(),{unique:!0}):Q("function"==typeof r.getArray,43):r=new mn(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(me),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(q(e,"add",this.handleLayersAdd_,this),q(e,"remove",this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(me);Cs(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new On("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[q(e,"propertychange",this.handleLayerChange_,this),q(e,"change",this.handleLayerChange_,this)];e instanceof Fd&&n.push(q(e,"addlayer",this.handleLayerGroupAdd_,this),q(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Je(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new On("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new On("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new On("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=Je(n);this.listenerKeys_[r].forEach(me),delete this.listenerKeys_[r],this.dispatchEvent(new On("removelayer",n)),this.changed()}getLayers(){return this.get("layers")}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new On("removelayer",r[i]))}this.set("layers",e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=void 0!==e?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&void 0===i.zIndex&&(s=0);for(let o=r,a=n.length;o<a;o++){const l=n[o];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),void 0!==i.extent&&(l.extent=void 0!==l.extent?li(l.extent,i.extent):i.extent),void 0===l.zIndex&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const xa=Fd,hi=class xP extends Nn{constructor(e,n,r){super(e),this.map=n,this.frameState=void 0!==r?r:null}},kn=class PP extends hi{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},ge={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},LP=class NP extends md{constructor(e,n){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===n?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=q(r,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=q(r,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener("touchmove",this.boundHandleTouchMove_,!!bv&&{passive:!1})}emulateClick_(e){let n=new kn(ge.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new kn(ge.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;const r=new kn(ge.SINGLECLICK,this.map_,e);this.dispatchEvent(r)}.bind(this),250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==ge.POINTERUP||n.type==ge.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==ge.POINTERDOWN||n.type==ge.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new kn(ge.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(me),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const n=new kn(ge.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.down_={};for(const r in e){const i=e[r];this.down_[r]="function"==typeof i?Es:i}if(0===this.dragListenerKeys_.length){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(q(r,ge.POINTERMOVE,this.handlePointerMove_,this),q(r,ge.POINTERUP,this.handlePointerUp_,this),q(this.element_,ge.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(q(this.element_.getRootNode(),ge.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new kn(ge.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new kn(ge.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(me(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(me(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(me),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Pa=1/0,OP=class FP{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Cs(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){Q(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=Pa&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],a=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<i&&r[u]<r[l]?u:l;n[e]=n[c],r[e]=r[c],e=c}n[e]=s,r[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const a=this.getParentIndex_(n);if(!(i[a]>o))break;r[n]=r[a],i[n]=i[a],n=a}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,a,l;for(a=0;a<s;++a)o=n[a],l=e(o),l==Pa?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=l,n[i++]=o);n.length=i,r.length=i,this.heapify_()}},jP=class kP extends OP{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(2===r||3===r||4===r){3!==r&&n.removeEventListener("change",this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i,s,o,r=0;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),0===i&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}},Bt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},bs={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},Qv=class UP{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||bs[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Ms=6378137,fi=Math.PI*Ms,$P=[-fi,-fi,fi,fi],GP=[-180,-85,180,85],Na=Ms*Math.log(Math.tan(Math.PI/2));class gi extends Qv{constructor(e){super({code:e,units:"m",extent:$P,global:!0,worldExtent:GP,getPointResolution:function(n,r){return n/Math.cosh(r[1]/Ms)}})}}const Jv=[new gi("EPSG:3857"),new gi("EPSG:102100"),new gi("EPSG:102113"),new gi("EPSG:900913"),new gi("http://www.opengis.net/def/crs/EPSG/0/3857"),new gi("http://www.opengis.net/gml/srs/epsg.xml#3857")];function zP(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n){e[i]=fi*t[i]/180;let s=Ms*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>Na?s=Na:s<-Na&&(s=-Na),e[i+1]=s}return e}function WP(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/fi,e[i+1]=360*Math.atan(Math.exp(t[i+1]/Ms))/Math.PI-90;return e}const eD=[-180,-90,180,90],KP=6378137*Math.PI/180;class dr extends Qv{constructor(e,n){super({code:e,units:"degrees",extent:eD,axisOrientation:n,global:!0,metersPerUnit:KP,worldExtent:eD})}}const tD=[new dr("CRS:84"),new dr("EPSG:4326","neu"),new dr("urn:ogc:def:crs:OGC:1.3:CRS84"),new dr("urn:ogc:def:crs:OGC:2:84"),new dr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new dr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new dr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let La={},Ht={};function Fa(t,e,n){const r=t.getCode(),i=e.getCode();r in Ht||(Ht[r]={}),Ht[r][i]=n}function jd(t,e,n){n=n||6371008.8;const r=Ia(t[1]),i=Ia(e[1]),s=(i-r)/2,o=Ia(e[0]-t[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}let Bd=!0;function Hd(t,e,n){if(void 0!==e)for(let r=0,i=t.length;r<i;++r)e[r]=t[r];else e=t.slice();return e}function rD(t,e,n){if(void 0!==e&&t!==e){for(let r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function eN(t){(function YP(t,e){La[t]=e})(t.getCode(),t),Fa(t,t,Hd)}function Be(t){return"string"==typeof t?function qP(t){return La[t]||La[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function iD(t,e,n,r){let i;const s=(t=Be(t)).getPointResolutionFunc();if(s){if(i=s(e,n),r&&r!==t.getUnits()){const o=t.getMetersPerUnit();o&&(i=i*o/bs[r])}}else{const o=t.getUnits();if("degrees"==o&&!r||"degrees"==r)i=e;else{const a=ja(t,Be("EPSG:4326"));if(a===rD&&"degrees"!==o)i=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=a(u,u,2),i=(jd(u.slice(0,2),u.slice(2,4))+jd(u.slice(4,6),u.slice(6,8)))/2}const l=r?bs[r]:t.getMetersPerUnit();void 0!==l&&(i/=l)}}return i}function sD(t){(function tN(t){t.forEach(eN)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Fa(e,n,Hd)})})}function Ud(t,e){return t?"string"==typeof t?Be(t):t:Be(e)}function pi(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||ja(t,e)===Hd)&&n}function ja(t,e){let i=function XP(t,e){let n;return t in Ht&&e in Ht[t]&&(n=Ht[t][e]),n}(t.getCode(),e.getCode());return i||(i=rD),i}function Ss(t,e){return ja(Be(t),Be(e))}function As(t,e,n){return Ss(e,n)(t,void 0,t.length)}let Ze=null;function $d(t,e){return t}function _n(t,e){return Bd&&!Ma(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Bd=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function mi(t,e){return t}function lD(t,e,n){return function(r,i,s,o,a){if(!r)return;if(!i&&!e)return r;const l=e?0:s[0]*i,u=e?0:s[1]*i,c=a?a[0]:0,d=a?a[1]:0;let h=t[0]+l/2+c,f=t[2]-l/2+c,g=t[1]+u/2+d,p=t[3]-u/2+d;h>f&&(h=(f+h)/2,f=h),g>p&&(g=(p+g)/2,p=g);let y=Re(r[0],h,f),_=Re(r[1],g,p);if(o&&n&&i){const v=30*i;y+=-v*Math.log(1+Math.max(0,h-r[0])/v)+v*Math.log(1+Math.max(0,r[0]-f)/v),_+=-v*Math.log(1+Math.max(0,g-r[1])/v)+v*Math.log(1+Math.max(0,r[1]-p)/v)}return[y,_]}}function aN(t){return t}function Gd(t,e,n,r){const i=fe(e)/n[0],s=Vt(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function zd(t,e,n){let r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Re(r,n/2,2*e)}function uD(t,e,n,r,i){return n=void 0===n||n,function(s,o,a,l){if(void 0!==s){const u=r?Gd(t,r,a,i):t;return n&&l?zd(s,u,e):Re(s,e,u)}}}function Wd(t){if(void 0!==t)return 0}function cD(t){if(void 0!==t)return t}function dD(t){return Math.pow(t,3)}function yi(t){return 1-dD(1-t)}function Zd(t){return 3*t*t-2*t*t*t}function hN(t){return t}!function oN(){sD(Jv),sD(tD),function nN(t,e,n,r){t.forEach(function(i){e.forEach(function(s){Fa(i,s,n),Fa(s,i,r)})})}(tD,Jv,zP,WP)}();const hD=[1,0,0,1,0,0],_N=class yN extends pn{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function A1(t){let n,r,i,e=!1;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!pd(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ue()}closestPointXY(e,n,r,i){return ue()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return this.closestPointXY(e[0],e[1],n=n||[NaN,NaN],1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ue()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&oi(n),this.extentRevision_=this.getRevision()}return function Q1(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,e)}rotate(e,n){ue()}scale(e,n,r){ue()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ue()}getType(){return ue()}applyTransform(e){ue()}intersectsExtent(e){return ue()}translate(e,n){ue()}transform(e,n){const r=Be(e),i="tile-pixels"==r.getUnits()?function(s,o,a){const l=r.getExtent(),u=r.getWorldExtent(),c=Vt(u)/Vt(l);return si(hD,u[0],u[3],c,-c,0,0,0),function fN(t,e,n,r,i,s){s=s||[];let o=0;for(let a=e;a<n;a+=r){const l=t[a],u=t[a+1];s[o++]=i[0]*l+i[2]*u+i[4],s[o++]=i[1]*l+i[3]*u+i[5]}s&&s.length!=o&&(s.length=o)}(s,0,s.length,a,hD,o),Ss(r,n)(s,o,a)}:Ss(r,n);return this.applyTransform(i),this}};function fD(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const Kd=class vN extends _N{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return function Z1(t,e,n,r,i){return Lv(oi(i),t,e,n,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ue()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=fD(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ue()}setLayout(e,n,r){let i;if(e)i=fD(e);else{for(let s=0;s<r;++s){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}i=n.length,e=function DN(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function gN(t,e,n,r,i,s,o){o=o||[];const a=Math.cos(i),l=Math.sin(i),u=s[0],c=s[1];let d=0;for(let h=e;h<n;h+=r){const f=t[h]-u,g=t[h+1]-c;o[d++]=u+f*a-g*l,o[d++]=c+f*l+g*a;for(let p=h+2;p<h+r;++p)o[d++]=t[p]}o&&o.length!=d&&(o.length=d)})(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){void 0===n&&(n=e),r||(r=ai(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();(function pN(t,e,n,r,i,s,o,a){a=a||[];const l=o[0],u=o[1];let c=0;for(let d=e;d<n;d+=r){const f=t[d+1]-u;a[c++]=l+i*(t[d]-l),a[c++]=u+s*f;for(let g=d+2;g<d+r;++g)a[c++]=t[g]}a&&a.length!=c&&(a.length=c)})(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function mN(t,e,n,r,i,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=r){o[a++]=t[l]+i,o[a++]=t[l+1]+s;for(let u=l+2;u<l+r;++u)o[a++]=t[u]}o&&o.length!=a&&(o.length=a)})(r,0,r.length,i,e,n,r),this.changed()}}};function gD(t,e,n,r,i,s,o){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let d;if(0===u&&0===c)d=e;else{const h=((i-a)*u+(s-l)*c)/(u*u+c*c);if(h>1)d=n;else{if(h>0){for(let f=0;f<r;++f)o[f]=iP(t[e+f],t[n+f],h);return void(o.length=r)}d=e}}for(let h=0;h<r;++h)o[h]=t[d+h];o.length=r}function pD(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const a=t[e],l=t[e+1],u=ui(s,o,a,l);u>i&&(i=u),s=a,o=l}return i}function yD(t,e,n,r,i,s,o,a,l,u,c){if(e==n)return u;let d,h;if(0===i){if(h=ui(o,a,t[e],t[e+1]),h<u){for(d=0;d<r;++d)l[d]=t[e+d];return l.length=r,h}return u}c=c||[NaN,NaN];let f=e+r;for(;f<n;)if(gD(t,f-r,f,r,o,a,c),h=ui(o,a,c[0],c[1]),h<u){for(u=h,d=0;d<r;++d)l[d]=c[d];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(h)-Math.sqrt(u))/i|0,1);if(s&&(gD(t,n-r,e,r,o,a,c),h=ui(o,a,c[0],c[1]),h<u)){for(u=h,d=0;d<r;++d)l[d]=c[d];l.length=r}return u}function vD(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let a=0;a<r;++a)t[e++]=o[a]}return e}function _i(t,e){return e*Math.round(t/e)}function IN(t,e,n,r,i,s,o){if(e==n)return o;let u,c,a=_i(t[e],i),l=_i(t[e+1],i);e+=r,s[o++]=a,s[o++]=l;do{if(u=_i(t[e],i),c=_i(t[e+1],i),(e+=r)==n)return s[o++]=u,s[o++]=c,o}while(u==a&&c==l);for(;e<n;){const d=_i(t[e],i),h=_i(t[e+1],i);if(e+=r,d==u&&h==c)continue;const f=u-a,g=c-l,p=d-a,y=h-l;f*y==g*p&&(f<0&&p<f||f==p||f>0&&p>f)&&(g<0&&y<g||g==y||g>0&&y>g)?(u=d,c=h):(s[o++]=u,s[o++]=c,a=u,l=c,u=d,c=h)}return s[o++]=u,s[o++]=c,o}function CD(t,e,n,r,i){i=void 0!==i?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function ID(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=o*a-s*l,s=a,o=l}return i/2}class Va extends Kd{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}clone(){return new Va(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<Rv(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(pD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return ID(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return CD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=function qd(t,e,n,r,i,s,o){const a=(n-e)/r;if(a<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-r];let c=0;for(;u.length>0;){const d=u.pop(),h=u.pop();let f=0;const g=t[h],p=t[h+1],y=t[d],_=t[d+1];for(let v=h+r;v<d;v+=r){const C=nP(t[v],t[v+1],g,p,y,_);C>f&&(c=v,f=C)}f>i&&(l[(c-e)/r]=1,h+r<c&&u.push(h,c),c+r<d&&u.push(c,d))}for(let d=0;d<a;++d)l[d]&&(s[o++]=t[e+d*r],s[o++]=t[e+d*r+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Va(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vD(this.flatCoordinates,0,e,this.stride),this.changed()}}const bD=Va;class Yd extends Kd{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Yd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=ui(e,n,s[0],s[1]);if(o<i){const a=this.stride;for(let l=0;l<a;++l)r[l]=s[l];return r.length=a,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return function W1(t,e){const n=t[0],r=t[1];return ur(n,r,n,r,e)}(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return xv(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function EN(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,e),this.changed()}}const TN=Yd;function bN(t,e,n,r,i){return!Fv(i,function(o){return!hr(t,e,n,r,o[0],o[1])})}function hr(t,e,n,r,i,s){let o=0,a=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const u=t[e],c=t[e+1];l<=s?c>s&&(u-a)*(s-l)-(i-a)*(c-l)>0&&o++:c<=s&&(u-a)*(s-l)-(i-a)*(c-l)<0&&o--,a=u,l=c}return 0!==o}function Xd(t,e,n,r,i,s){if(0===n.length||!hr(t,e,n[0],r,i,s))return!1;for(let o=1,a=n.length;o<a;++o)if(hr(t,n[o-1],n[o],r,i,s))return!1;return!0}function Qd(t,e,n,r,i){const s=Lv([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!wa(i,s)&&(!!(function z1(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3])||function MN(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}(t,e,n,r,function(o,a){return function J1(t,e,n){let r=!1;const i=Pv(t,e),s=Pv(t,n);if(1===i||1===s)r=!0;else{const o=t[0],a=t[1],l=t[2],u=t[3],h=n[0],f=n[1],g=(f-e[1])/(h-e[0]);let p,y;!!(2&s)&&!(2&i)&&(p=h-(f-u)/g,r=p>=o&&p<=l),!r&&!!(4&s)&&!(4&i)&&(y=f-(h-l)*g,r=y>=a&&y<=u),!r&&!!(8&s)&&!(8&i)&&(p=h-(f-a)/g,r=p>=o&&p<=l),!r&&16&s&&!(16&i)&&(y=f-(h-o)*g,r=y>=a&&y<=u)}return r}(i,o,a)}))}function SD(t,e,n,r,i){return!!(Qd(t,e,n,r,i)||hr(t,e,n,r,i[0],i[1])||hr(t,e,n,r,i[0],i[3])||hr(t,e,n,r,i[2],i[1])||hr(t,e,n,r,i[2],i[3]))}function SN(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function Jd(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=(a-s)*(l+o),s=a,o=l}return 0===i?void 0:i>0}function eh(t,e,n,r,i){i=void 0!==i&&i;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=Jd(t,e,a,r);(0===s?i&&l||!i&&!l:i&&!l||!i&&l)&&SN(t,e,a,r),e=a}return e}class fr extends Kd{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?function M1(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new fr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Rv(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function mD(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const a=n[s];i=pD(t,e,a,r,i),e=a}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function _D(t,e,n,r,i,s,o,a,l,u,c){c=c||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];u=yD(t,e,f,r,i,s,o,a,l,u,c),e=f}return u}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Xd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return function TD(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];i+=ID(t,e,a,r),e=a}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return void 0!==e?(n=this.getOrientedFlatCoordinates().slice(),eh(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,function wD(t,e,n,r,i){i=void 0!==i?i:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];i[s++]=CD(t,e,l,r,i[s]),e=l}return i.length=s,i}(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=ai(this.getExtent());this.flatInteriorPoint_=function MD(t,e,n,r,i,s,o){let a,l,u,c,d,h,f;const g=i[s+1],p=[];for(let v=0,m=n.length;v<m;++v){const D=n[v];for(c=t[D-r],h=t[D-r+1],a=e;a<D;a+=r)d=t[a],f=t[a+1],(g<=h&&f<=g||h<=g&&g<=f)&&(u=(g-h)/(f-h)*(d-c)+c,p.push(u)),c=d,h=f}let y=NaN,_=-1/0;for(p.sort(fa),c=p[0],a=1,l=p.length;a<l;++a){d=p[a];const v=Math.abs(d-c);v>_&&(u=(c+d)/2,Xd(t,e,n,r,u,g)&&(y=u,_=v)),c=d}return isNaN(y)&&(y=i[s]),o?(o.push(y,g,_),o):[y,g,_]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new TN(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new bD(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,a=r.length;o<a;++o){const l=r[o],u=new bD(n.slice(s,l),e);i.push(u),s=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function RD(t,e,n,r,i){i=void 0!==i&&i;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=Jd(t,e,a,r);if(0===s){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=a}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=eh(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=function ED(t,e,n,r,i,s,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];o=IN(t,e,c,r,i,s,o),a.push(o),e=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new fr(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return function AD(t,e,n,r,i){if(!SD(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(let s=1,o=n.length;s<o;++s)if(bN(t,n[s-1],n[s],r,i)&&!Qd(t,n[s-1],n[s],r,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=function DD(t,e,n,r,i){i=i||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=vD(t,e,n[o],r);i[s++]=l,e=l}return i.length=s,i}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const AN=fr;function xD(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new fr(s,"XY",[s.length])}function Ba(t,e){setTimeout(function(){t(e)},0)}function nh(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;return a+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,o=-o,[a*s-l*o,l*s+a*o]}const Vn=class xN extends pn{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=Ud(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&function nD(t){Bd=!(void 0===t||t)}(),e.center&&(e.center=_n(e.center)),e.extent&&(e.extent=mi(e.extent)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in Bt)delete n[a];this.setProperties(n,!0);const r=function NN(t){let e,n,r,o=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,u=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,h=Ud(t.projection,"EPSG:3857"),f=h.getExtent();let g=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&h.isGlobal()&&(g=!1,p=f),void 0!==t.resolutions){const y=t.resolutions;n=y[o],r=void 0!==y[a]?y[a]:y[y.length-1],e=t.constrainResolution?function lN(t,e,n,r){return e=void 0===e||e,function(i,s,o,a){if(void 0!==i){const l=t[0],u=t[t.length-1],c=n?Gd(l,n,o,r):l;if(a)return e?zd(i,c,u):Re(i,u,c);const d=Math.min(c,i),h=Math.floor(gd(t,d,s));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(y,c,!g&&p,d):uD(n,r,c,!g&&p,d)}else{const _=(f?Math.max(fe(f),Vt(f)):360*bs.degrees/h.getMetersPerUnit())/256/Math.pow(2,0),v=_/Math.pow(2,28);n=t.maxResolution,void 0!==n?o=0:n=_/Math.pow(l,o),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):_/Math.pow(l,a):v),a=o+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-o),e=t.constrainResolution?function uN(t,e,n,r,i,s){return r=void 0===r||r,n=void 0!==n?n:0,function(o,a,l,u){if(void 0!==o){const c=i?Gd(e,i,l,s):e;if(u)return r?zd(o,c,n):Re(o,n,c);const d=1e-9,h=Math.ceil(Math.log(e/c)/Math.log(t)-d),f=-a*(.5-d)+.5,g=Math.min(c,o),p=Math.floor(Math.log(e/g)/Math.log(t)+f),y=Math.max(h,p);return Re(e/Math.pow(t,y),n,c)}}}(l,n,r,c,!g&&p,d):uD(n,r,c,!g&&p,d)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:l}}(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=function PN(t){if(void 0!==t.extent)return lD(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);const e=Ud(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,lD(n,!1,!1)}return aN}(e),s=r.constraint,o=function LN(t){if(void 0===t.enableRotation||t.enableRotation){const n=t.constrainRotation;return void 0===n||!0===n?function dN(t){return t=t||Ia(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}():!1===n?cD:"number"==typeof n?function cN(t){const e=2*Math.PI/t;return function(n,r){return r?n:void 0!==n?n=Math.floor(n/e+.5)*e:void 0}}(n):cD}return Wd}(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenter();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution();this.setCenterInternal([r[0]+s/2*(i[3]-n[3]+n[1]-i[1]),r[1]-s/2*(i[0]-n[0]+n[2]-i[2])])}}getUpdatedOptions_(e){const n=this.getProperties();return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=_n(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=_n(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let r,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const c=arguments[i];c.center&&this.setCenterInternal(c.center),void 0!==c.zoom?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),void 0!==c.rotation&&this.setRotation(c.rotation)}if(i===n)return void(r&&Ba(r,!0));let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;i<n;++i){const c=arguments[i],d={start:s,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Zd,callback:r};if(c.center&&(d.sourceCenter=o,d.targetCenter=c.center.slice(),o=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(c.zoom),a=d.targetResolution):c.resolution&&(d.sourceResolution=a,d.targetResolution=c.resolution,a=d.targetResolution),void 0!==c.rotation){d.sourceRotation=l;const h=ci(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}(t=d).sourceCenter&&t.targetCenter&&!Ma(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation?s+=d.duration:d.complete=!0,u.push(d)}var t;this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&Ba(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const a=i[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):s=!1;const d=l.easing(c);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[h+d*(g-h),f+d*(p-f)]}if(l.sourceResolution&&l.targetResolution){const h=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){const h=1===d?ci(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[r]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&Ba(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return void 0!==i&&(r=[i[0]-n[0],i[1]-n[1]],Ad(r,e-this.getRotation()),function hP(t,e){t[0]+=+e[0],t[1]+=+e[1]}(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();return void 0!==i&&void 0!==s&&(r=[n[0]-e*(n[0]-i[0])/s,n[1]-e*(n[1]-i[1])/s]),r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&$d(e,this.getProjection())}getCenterInternal(){return this.get(Bt.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return function sN(t,e){return t}(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Q(n,1);const r=this.getResolution();Q(void 0!==r,2);const i=this.getRotation();return Q(void 0!==i,3),wd(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Bt.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(mi(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=fe(e)/n[0],i=Vt(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(Bt.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),s=Math.log(r/this.minResolution_)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=nh(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getZoom(){let e;const n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let r,i,n=this.minZoom_||0;if(this.resolutions_){const s=gd(this.resolutions_,e,1);n=s,r=this.resolutions_[s],i=s==this.resolutions_.length-1?2:r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Re(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],Re(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(Q(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Q(!Td(e),25),r=xD(mi(e,this.getProjection()));else if("Circle"===e.getType()){const i=mi(e.getExtent(),this.getProjection());r=xD(i),r.rotate(this.getRotation(),ai(i))}else{const i=function iN(){return Ze}();r=i?e.clone().transform(i,this.getProjection()):e}this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let d=0,h=s.length;d<h;d+=o){const f=s[d]*r-s[d+1]*i,g=s[d]*i+s[d+1]*r;a=Math.min(a,f),l=Math.min(l,g),u=Math.max(u,f),c=Math.max(c,g)}return[a,l,u,c]}fitInternal(e,n){let r=(n=n||{}).size;r||(r=this.getViewportSizeMinusPadding_());const i=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;let o;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),c=Math.sin(u),d=Math.cos(u),h=ai(a);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const p=this.getConstrainedCenter([h[0]*d-h[1]*c,h[1]*d+h[0]*c],l),y=n.callback?n.callback:Es;void 0!==n.duration?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},y):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),Ba(y,!0))}centerOn(e,n,r){this.centerOnInternal(_n(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(nh(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-r),l=nh(e,i,[a[0]/2+o[3],a[1]/2+o[0]],n,r);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const n=$d(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&_n(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=_n(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&_n(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),a=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(Bt.ROTATION)!==i&&this.set(Bt.ROTATION,i),this.get(Bt.RESOLUTION)!==o&&(this.set(Bt.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Bt.CENTER)||!Ma(this.get(Bt.CENTER),a))&&this.set(Bt.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=void 0!==e?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,i,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,void this.applyTargetState_();r=r||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!Ma(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:yi,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,n,r){r=r&&_n(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.setHint(1,-1),this.resolveConstraints(e,n,r)}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}},rh=class ON extends pn{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){xd(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&xd(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)me(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Es&&this.listenerKeys.push(q(e,"postrender",this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},jN=class kN extends rh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.expandClassName?e.expandClassName:n+"-expand",s=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",o=void 0!==e.collapseClassName?e.collapseClassName:n+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=i):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener("click",this.handleClick_.bind(this),!1);const c=this.element;c.className=n+" "+Aa+" "+Rd+(this.collapsed_&&this.collapsible_?" "+Zv:"")+(this.collapsible_?"":" ol-uncollapsible"),c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n={},r=[];let i=!0;const s=e.layerStatesArray;for(let o=0,a=s.length;o<a;++o){const l=s[o];if(!Md(l,e.viewState))continue;const u=l.layer.getSource();if(!u)continue;const c=u.getAttributions();if(!c)continue;const d=c(e);if(d)if(i=i&&!1!==u.getAttributionsCollapsible(),Array.isArray(d))for(let h=0,f=d.length;h<f;++h)d[h]in n||(r.push(d[h]),n[d[h]]=!0);else d in n||(r.push(d),n[d]=!0)}return this.overrideCollapsible_||this.setCollapsible(i),r}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!pd(n,this.renderedAttributions_)){!function TP(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Zv),this.collapsed_?Yv(this.collapseLabel_,this.label_):Yv(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},BN=class VN extends rh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"\u21e7",i=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener("click",this.handleClick_.bind(this),!1);const l=this.element;l.className=n+" "+Aa+" "+Rd,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Sa)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();void 0!==r&&(this.duration_>0&&r%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:yi}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(Sa);s||0!==r?s&&0!==r&&this.element.classList.remove(Sa):this.element.classList.add(Sa)}this.label_.style.transform=i}this.rotation_=r}},UN=class HN extends rh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInClassName?e.zoomInClassName:n+"-in",s=void 0!==e.zoomOutClassName?e.zoomOutClassName:n+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",a=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",l=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",u=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener("click",this.handleClick_.bind(this,r),!1);const d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild("string"==typeof a?document.createTextNode(a):a),d.addEventListener("click",this.handleClick_.bind(this,-r),!1);const f=this.element;f.className=n+" "+Aa+" "+Rd,f.appendChild(c),f.appendChild(d),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(void 0!==i){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:yi})):r.setZoom(s)}}};function ih(t,e,n,r){const i=t.getZoom();if(void 0===i)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:void 0!==r?r:250,easing:yi})}const Rs=class GN extends pn{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},ZN=class WN extends Rs{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let n=!1;if(e.type==ge.DBLCLICK){const r=e.originalEvent,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_;ih(e.map.getView(),o,s,this.duration_),r.preventDefault(),n=!0}return!n}};function sh(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}const xs=class KN extends Rs{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ge.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ge.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==ge.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==ge.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function oh(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),r);++i);return r}}const qN=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ND=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},XN=ga,LD=function(t){const e=t.originalEvent;return 0==e.button&&!(V1&&B1&&e.ctrlKey)},FD=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},QN=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},OD=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},ah=function(t){const e=t.originalEvent;return Q(void 0!==e,56),"mouse"==e.pointerType},JN=function(t){const e=t.originalEvent;return Q(void 0!==e,56),e.isPrimary&&0===e.button},tL=class eL extends xs{constructor(e){super({stopDown:pa}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const n=e.condition?e.condition:oh(FD,JN);this.condition_=e.onFocusOnly?oh(ND,n):n,this.noKinetic_=!1}handleDragEvent(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());const n=this.targetPointers,r=sh(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const i=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],o=e.map.getView();(function pP(t,e){t[0]*=e,t[1]*=e})(i,o.getResolution()),Ad(i,o.getRotation()),o.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-i*Math.cos(s),a[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:yi})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},rL=class nL extends xs{constructor(e){e=e||{},super({stopDown:pa}),this.condition_=e.condition?e.condition:qN,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!ah(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===Wd)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);void 0!==this.lastAngle_&&r.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}handleUpEvent(e){return!ah(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(ah(e)&&LD(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},sL=class iL extends fd{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new AN([i])}getGeometry(){return this.geometry_}};class lh extends Nn{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}const aL=class oL extends xs{constructor(e){super(),this.box_=new sL((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:LD,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new lh("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new lh(n?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new lh("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},uL=class lL extends aL{constructor(e){super({condition:(e=e||{}).condition?e.condition:QN,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),a=r.getResolution()/o;i=i.clone(),i.scale(a*a)}r.fitInternal(i,{duration:this.duration_,easing:yi})}},dL=class cL extends Rs{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return FD(n)&&OD(n)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let n=!1;if("keydown"==e.type){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(40==i||37==i||39==i||38==i)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,u=0;40==i?u=-a:37==i?l=-a:39==i?l=a:u=a;const c=[l,u];Ad(c,o.getRotation()),function zN(t,e,n){const r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:hN,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(o,c,this.duration_),r.preventDefault(),n=!0}}return!n}},fL=class hL extends Rs{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:OD,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let n=!1;if("keydown"==e.type||"keypress"==e.type){const r=e.originalEvent,i=r.charCode;if(this.condition_(e)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){const s=e.map,o=i=="+".charCodeAt(0)?this.delta_:-this.delta_;ih(s.getView(),o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}},yL=class mL extends Rs{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const n=e.condition?e.condition:XN;this.condition_=e.onFocusOnly?oh(ND,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||"wheel"!==e.type)return!0;const r=e.map,i=e.originalEvent;let s;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(s=i.deltaY,j1&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Tv),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=r.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-Re(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),ih(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},vL=class _L extends xs{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=pa),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(void 0!==this.lastAngle_){const c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=s;const o=e.map,a=o.getView();if(a.getConstraints().rotation===Wd)return;const l=o.getViewport().getBoundingClientRect(),u=sh(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=o.getCoordinateFromPixelInternal(u),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},EL=class DL extends xs{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=pa),super(n),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,a=Math.sqrt(s*s+o*o);void 0!==this.lastDistance_&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();1!=n&&(this.lastScaleDelta_=n);const c=l.getViewport().getBoundingClientRect(),d=sh(this.targetPointers);d[0]-=c.left,d[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(d),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}};function kD(t){return t[0]>0&&t[1]>0}function vn(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function jD(t){t instanceof Sd?t.setMapInternal(null):t instanceof xa&&t.getLayers().forEach(jD)}function VD(t,e){if(t instanceof Sd)t.setMapInternal(e);else if(t instanceof xa){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)VD(n[r],e)}}const bL=class IL extends pn{constructor(e){super();const n=function TL(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new xa({layers:t.layers});let i,s,o;return n.layergroup=r,n.target=t.target,n.view=t.view instanceof Vn?t.view:new Vn,void 0!==t.controls&&(Array.isArray(t.controls)?i=new mn(t.controls.slice()):(Q("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?s=new mn(t.interactions.slice()):(Q("function"==typeof t.interactions.getArray,48),s=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new mn(t.overlays.slice()):(Q("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new mn,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Tv,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.controls=n.controls||function $N(t){t=t||{};const e=new mn;return(void 0===t.zoom||t.zoom)&&e.push(new UN(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new BN(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new jN(t.attributionOptions)),e}(),this.interactions=n.interactions||function CL(t){t=t||{};const e=new mn,n=new class gL{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new rL),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new ZN({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new tL({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new vL),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new EL({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new dL),e.push(new fL({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new yL({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new uL({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new jP(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof Vn)&&e.view.then(function(i){r.setView(new Vn(i))}),this.controls.addEventListener("add",function(i){i.element.setMap(this)}.bind(this)),this.controls.addEventListener("remove",function(i){i.element.setMap(null)}.bind(this)),this.interactions.addEventListener("add",function(i){i.element.setMap(this)}.bind(this)),this.interactions.addEventListener("remove",function(i){i.element.setMap(null)}.bind(this)),this.overlays_.addEventListener("add",function(i){this.addOverlayInternal_(i.element)}.bind(this)),this.overlays_.addEventListener("remove",function(i){const s=i.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}.bind(this)),this.controls.forEach(function(i){i.setMap(this)}.bind(this)),this.interactions.forEach(function(i){i.setMap(this)}.bind(this)),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){VD(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,n,null,void 0!==r.layerFilter?r.layerFilter:ga,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];return function n(r){r.forEach(function(i){i instanceof xa?n(i.getLayers()):e.push(i)})}(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:ga,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const n=this.viewport_.getBoundingClientRect(),r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-n.left,r.clientY-n.top]}getTarget(){return this.get("target")}getTargetElement(){const e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null}getCoordinateFromPixel(e){return $d(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?wt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(e){const n=this.getLayerGroup();if(e instanceof mn)return void n.setLayers(e);const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=_n(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?wt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return function VP(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Pa;const s=t.viewState.center,o=r[0]-s[0],a=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+a*a)/i}(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){const r=new kn(n=n||e.type,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if("pointerdown"===r||"wheel"===r||"keydown"===r){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()===this&&o.getActive()&&this.getTargetElement()&&(!o.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[0]||o[1]){const a=Date.now()-e.time>8;i=a?0:8,s=a?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new hi("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new hi("loadstart",this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,r=this.targetChangeHandlerKeys_.length;n<r;++n)me(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,xd(this.viewport_)}const e=this.getTargetElement();if(e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new RP(this)),this.mapBrowserEventHandler_=new LP(this,this.moveTolerance_);for(const i in ge)this.mapBrowserEventHandler_.addEventListener(ge[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!bv&&{passive:!1});const n=this.getOwnerDocument().defaultView,r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[q(r,"keydown",this.handleBrowserEvent,this),q(r,"keypress",this.handleBrowserEvent,this),q(n,"resize",this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(me(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(me(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=q(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=q(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(me),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new On("addlayer",e)),this.layerGroupPropertyListenerKeys_=[q(e,"propertychange",this.render,this),q(e,"change",this.render,this),q(e,"addlayer",this.handleLayerAdd_,this),q(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){jD(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(void 0!==n&&kD(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:wd(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:Je(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=wd(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!Td(this.previousExtent_)&&!Cd(s.extent,this.previousExtent_))&&(this.dispatchEvent(new hi("movestart",this,i)),this.previousExtent_=oi(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!Cd(s.extent,this.previousExtent_)&&(this.dispatchEvent(new hi("moveend",this,s)),function G1(t,e){e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):t.slice()}(s.extent,this.previousExtent_))),this.dispatchEvent(new hi("postrender",this,s)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new On("removelayer",n)),this.set("layergroup",e)}setSize(e){this.set("size",e)}setTarget(e){this.set("target",e)}setView(e){if(!e||e instanceof Vn)return void this.set("view",e);this.set("view",new Vn);const n=this;e.then(function(r){n.setView(new Vn(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const r=getComputedStyle(e),i=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(i)&&!isNaN(s)&&(n=[i,s],!kD(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}},SL=class ML extends Sd{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}},RL=class AL extends Ev{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return ue()}getData(e){return null}prepareFrame(e){return ue()}renderFrame(e,n){return ue()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return function(i,s){const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}.bind(this)}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){2===e.target.getState()&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}};let vi=null;const NL=class PL extends RL{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){let i;vi||function xL(){const t=document.createElement("canvas");t.width=1,t.height=1,vi=t.getContext("2d")}(),vi.clearRect(0,0,1,1);try{vi.drawImage(e,n,r,1,1,0,0,1,1),i=vi.getImageData(0,0,1,1).data}catch{return vi=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return"function"==typeof r&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&pd(Vv(e.style.backgroundColor),Vv(r)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Ts();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=cr(r),s=Ca(r),o=Ea(r),a=Da(r);wt(n.coordinateToPixelTransform,i),wt(n.coordinateToPixelTransform,s),wt(n.coordinateToPixelTransform,o),wt(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;wt(l,i),wt(l,s),wt(l,o),wt(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new Wv(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_("prerender",e,n)}postRender(e,n){this.dispatchRenderEvent_("postrender",e,n)}getRenderTransform(e,n,r,i,s,o,a){const c=i/n;return si(this.tempTransform,s/2,o/2,c,-c,-r,-e[0]+a,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},BD=class LL extends md{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent("change")}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ue()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=n,this.transitionStarts_[e]=r;const i=n-r+1e3/60;return i>=this.transition_?1:dD(i/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};const UD=class FL extends BD{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function OL(){const t=Ts(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function HD(t,e,n){const r=t;let i=!0,s=!1,o=!1;const a=[ma(r,"load",function(){o=!0,s||e()})];return r.src&&H1?(s=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(o?e():n())})):a.push(ma(r,"error",n)),function(){i=!1,a.forEach(me)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let uh;const GD=[];function zD(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function ch(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function WD(t,e,n,r){const i=As(n,e,t);let s=iD(e,r,n);const o=e.getMetersPerUnit();void 0!==o&&(s*=o);const a=t.getMetersPerUnit();void 0!==a&&(s/=a);const l=t.getExtent();if(!l||Ed(l,i)){const u=iD(t,s,i)/s;isFinite(u)&&u>0&&(s/=u)}return s}const dh=class GL extends BD{constructor(e,n,r,i,s,o,a,l,u,c,d,h){super(s,0,{interpolate:!!h}),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const y=g?li(f,g):f;if(0===va(y))return void(this.state=4);const _=e.getExtent();_&&(p=p?li(p,_):_);const v=i.getResolution(this.wrappedTileCoord_[0]),m=function UL(t,e,n,r){const i=ai(n);let s=WD(t,e,i,r);return(!isFinite(s)||s<=0)&&Fv(n,function(o){return s=WD(t,e,o,r),isFinite(s)&&s>0}),s}(e,r,y,v);if(!isFinite(m)||m<=0)return void(this.state=4);if(this.triangulation_=new class VL{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let a={};const l=Ss(this.targetProj_,this.sourceProj_);this.transformInv_=function(v){const m=v[0]+"/"+v[1];return a[m]||(a[m]=l(v)),a[m]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&fe(i)==fe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?fe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?fe(this.targetProj_.getExtent()):null;const u=cr(r),c=Ca(r),d=Ea(r),h=Da(r),f=this.transformInv_(u),g=this.transformInv_(c),p=this.transformInv_(d),y=this.transformInv_(h),_=10+(o?Math.max(0,Math.ceil(Math.log2(va(r)/(o*o*256*256)))):0);if(this.addQuad_(u,c,d,h,f,g,p,y,_),this.wrapsXInSource_){let v=1/0;this.triangles_.forEach(function(m,D,C){v=Math.min(v,m.source[0][0],m.source[1][0],m.source[2][0])}),this.triangles_.forEach(function(m){if(Math.max(m.source[0][0],m.source[1][0],m.source[2][0])-v>this.sourceWorldWidth_/2){const D=[[m.source[0][0],m.source[0][1]],[m.source[1][0],m.source[1][1]],[m.source[2][0],m.source[2][1]]];D[0][0]-v>this.sourceWorldWidth_/2&&(D[0][0]-=this.sourceWorldWidth_),D[1][0]-v>this.sourceWorldWidth_/2&&(D[1][0]-=this.sourceWorldWidth_),D[2][0]-v>this.sourceWorldWidth_/2&&(D[2][0]-=this.sourceWorldWidth_);const C=Math.min(D[0][0],D[1][0],D[2][0]);Math.max(D[0][0],D[1][0],D[2][0])-C<this.sourceWorldWidth_/2&&(m.source=D)}}.bind(this))}a={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,a,l,u){const c=Av([s,o,a,l]),d=this.sourceWorldWidth_?fe(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let g=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(g=fe(Av([e,n,r,i]))/this.targetWorldWidth_>.25||g),!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)),!g&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!wa(c,this.maxSourceExtent_))return;let p=0;if(!(g||isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(u>0)g=!0;else if(p=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(u>0){if(!g){const _=this.transformInv_([(e[0]+r[0])/2,(e[1]+r[1])/2]);let v;v=f?(ci(s[0],h)+ci(a[0],h))/2-ci(_[0],h):(s[0]+a[0])/2-_[0];const m=(s[1]+a[1])/2-_[1];g=v*v+m*m>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const y=[(n[0]+r[0])/2,(n[1]+r[1])/2],_=this.transformInv_(y),v=[(i[0]+e[0])/2,(i[1]+e[1])/2],m=this.transformInv_(v);this.addQuad_(e,n,y,v,s,o,_,m,u-1),this.addQuad_(v,y,r,i,m,_,a,l,u-1)}else{const y=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(y),v=[(r[0]+i[0])/2,(r[1]+i[1])/2],m=this.transformInv_(v);this.addQuad_(e,y,v,i,s,_,m,l,u-1),this.addQuad_(y,n,r,v,_,o,a,m,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(e,r,i,s,a,l),0==(14&p)&&this.addTriangle_(e,r,n,s,a,o),p&&(0==(13&p)&&this.addTriangle_(n,i,e,o,l,s),0==(7&p)&&this.addTriangle_(n,i,r,o,l,a))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,r,i){const s=n.source;Is(e,s[0]),Is(e,s[1]),Is(e,s[2])}),e}getTriangles(){return this.triangles_}}(e,r,y,p,m*(void 0!==c?c:.5),v),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=n.getZForResolution(m);let C=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(C[1]=Re(C[1],p[1],p[3]),C[3]=Re(C[3],p[1],p[3])):C=li(C,p)),va(C)){const b=n.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let H=b.minX;H<=b.maxX;H++)for(let te=b.minY;te<=b.maxY;te++){const ye=u(this.sourceZ_,H,te,a);ye&&this.sourceTiles_.push(ye)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(function(n,r,i){n&&2==n.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i="number"==typeof r?r:r[0],s="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function $L(t,e,n,r,i,s,o,a,l,u,c,d){const h=Ts(Math.round(n*t),Math.round(n*e),GD);if(d||(h.imageSmoothingEnabled=!1),0===l.length)return h.canvas;function f(D){return Math.round(D*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];l.forEach(function(D,C,b){!function K1(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}(g,D.extent)});const p=fe(g),y=Vt(g),_=Ts(Math.round(n*p/r),Math.round(n*y/r));d||(_.imageSmoothingEnabled=!1);const v=n/r;l.forEach(function(D,C,b){const H=D.extent[0]-g[0],te=-(D.extent[3]-g[3]),ye=fe(D.extent),Me=Vt(D.extent);D.image.width>0&&D.image.height>0&&_.drawImage(D.image,u,u,D.image.width-2*u,D.image.height-2*u,H*v,te*v,ye*v,Me*v)});const m=cr(o);return a.getTriangles().forEach(function(D,C,b){const H=D.source,te=D.target;let ye=H[0][0],Me=H[0][1],et=H[1][0],Tt=H[1][1],bt=H[2][0],Dn=H[2][1];const tt=f((te[0][0]-m[0])/s),ft=f(-(te[0][1]-m[1])/s),Y=f((te[1][0]-m[0])/s),gt=f(-(te[1][1]-m[1])/s),En=f((te[2][0]-m[0])/s),Xt=f(-(te[2][1]-m[1])/s),pr=ye,nt=Me;ye=0,Me=0,et-=pr,Tt-=nt,bt-=pr,Dn-=nt;const Se=function rP(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let a=r+1;a<e;a++){const l=Math.abs(t[a][r]);l>s&&(s=l,i=a)}if(0===s)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let a=r+1;a<e;a++){const l=-t[a][r]/t[r][r];for(let u=r;u<e+1;u++)r==u?t[a][u]=0:t[a][u]+=l*t[r][u]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}([[et,Tt,0,0,Y-tt],[bt,Dn,0,0,En-tt],[0,0,et,Tt,gt-ft],[0,0,bt,Dn,Xt-ft]]);if(Se){if(h.save(),h.beginPath(),function HL(){if(void 0===uh){const t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",zD(t,4,5,4,0),zD(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;uh=ch(e,0)||ch(e,4)||ch(e,8)}return uh}()||!d){h.moveTo(Y,gt);const Ce=4,Ei=tt-Y,Hn=ft-gt;for(let rt=0;rt<Ce;rt++)h.lineTo(Y+f((rt+1)*Ei/Ce),gt+f(rt*Hn/(Ce-1))),rt!=Ce-1&&h.lineTo(Y+f((rt+1)*Ei/Ce),gt+f((rt+1)*Hn/(Ce-1)));h.lineTo(En,Xt)}else h.moveTo(Y,gt),h.lineTo(tt,ft),h.lineTo(En,Xt);h.clip(),h.transform(Se[0],Se[2],Se[1],Se[3],tt,ft),h.translate(g[0]-pr,g[3]-nt),h.scale(r/n,-r/n),h.drawImage(_.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(D,C,b){const H=D.target,te=(H[0][0]-m[0])/s,ye=-(H[0][1]-m[1])/s,Me=(H[1][0]-m[0])/s,et=-(H[1][1]-m[1])/s,Tt=(H[2][0]-m[0])/s,bt=-(H[2][1]-m[1])/s;h.beginPath(),h.moveTo(Me,et),h.lineTo(te,ye),h.lineTo(Tt,bt),h.closePath(),h.stroke()}),h.restore()),h.canvas}(i,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,r,i){const s=n.getState();if(0==s||1==s){e++;const o=q(n,"change",function(a){const l=n.getState();(2==l||3==l||4==l)&&(me(o),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){0==n.getState()&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(me),this.sourcesListenerKeys_=null}release(){this.canvas_&&(function IP(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}(this.canvas_.getContext("2d")),GD.push(this.canvas_),this.canvas_=null),super.release()}};class ZD{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Di(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new ZD(t,e,n,r)}const KD=ZD,WL=class zL extends NL{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new KD(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return 2==r||4==r||3==r&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,a=this.getLayer();let u=a.getSource().getTile(e,n,r,s,o);return 3==u.getState()&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=wt(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Ed(s,i))return null;const o=n.pixelRatio,a=n.viewState.projection,l=n.viewState,u=r.getRenderSource(),c=u.getTileGridForProjection(l.projection),d=u.getTilePixelRatio(n.pixelRatio);for(let h=c.getZForResolution(l.resolution);h>=c.getMinZoom();--h){const f=c.getTileCoordForCoordAndZ(i,h),g=u.getTile(h,f[1],f[2],o,a);if(!(g instanceof UD||g instanceof dh)||g instanceof dh&&4===g.getState())return null;if(2!==g.getState())continue;const p=c.getOrigin(h),y=vn(c.getTileSize(h)),_=c.getResolution(h),v=Math.floor(d*((i[0]-p[0])/_-f[1]*y[0])),m=Math.floor(d*((p[1]-i[1])/_-f[2]*y[1])),D=Math.round(d*u.getGutterForProjection(l.projection));return this.getImageData(g.getImage(),v+D,m+D)}return null}loadedTileCallback(e,n,r){return!!this.isDrawableTile(r)&&super.loadedTileCallback(e,n,r)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,a=i.center,l=i.rotation,u=e.pixelRatio,c=this.getLayer(),d=c.getSource(),h=d.getRevision(),f=d.getTileGridForProjection(s),g=f.getZForResolution(o,d.zDirection),p=f.getResolution(g);let y=e.extent;const _=e.viewState.resolution,v=d.getTilePixelRatio(u),m=Math.round(fe(y)/_*u),D=Math.round(Vt(y)/_*u),C=r.extent&&mi(r.extent);C&&(y=li(y,mi(r.extent)));const b=p*m/2/v,H=p*D/2/v,te=[a[0]-b,a[1]-H,a[0]+b,a[1]+H],ye=f.getTileRangeForExtentAndZ(y,g),Me={};Me[g]={};const et=this.createLoadedTileFinder(d,s,Me),Tt=this.tmpExtent,bt=this.tmpTileRange_;this.newTiles_=!1;const Dn=l?Id(i.center,_,l,e.size):void 0;for(let Qt=ye.minX;Qt<=ye.maxX;++Qt)for(let Se=ye.minY;Se<=ye.maxY;++Se){if(l&&!f.tileCoordIntersectsViewport([g,Qt,Se],Dn))continue;const Ce=this.getTile(g,Qt,Se,e);if(this.isDrawableTile(Ce)){const rt=Je(this);if(2==Ce.getState()){Me[g][Ce.tileCoord.toString()]=Ce;let Ci=Ce.inTransition(rt);Ci&&1!==r.opacity&&(Ce.endTransition(rt),Ci=!1),!this.newTiles_&&(Ci||!this.renderedTiles.includes(Ce))&&(this.newTiles_=!0)}if(1===Ce.getAlpha(rt,e.time))continue}const Ei=f.getTileCoordChildTileRange(Ce.tileCoord,bt,Tt);let Hn=!1;Ei&&(Hn=et(g+1,Ei)),Hn||f.forEachTileCoordParentTileRange(Ce.tileCoord,et,bt,Tt)}const tt=p/o*u/v;si(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,l,-m/2,-D/2);const ft=function Sv(t){const e="matrix("+t.join(", ")+")";if(yd)return e;const n=Mv||(Mv=document.createElement("div"));return n.style.transform=e,n.style.transform}(this.pixelTransform);this.useContainer(n,ft,this.getBackground(e));const Y=this.context,gt=Y.canvas;Dd(this.inversePixelTransform,this.pixelTransform),si(this.tempTransform,m/2,D/2,tt,tt,0,-m/2,-D/2),gt.width!=m||gt.height!=D?(gt.width=m,gt.height=D):this.containerReused||Y.clearRect(0,0,m,D),C&&this.clipUnrotated(Y,e,C),d.getInterpolate()||(Y.imageSmoothingEnabled=!1),this.preRender(Y,e),this.renderedTiles.length=0;let Xt,pr,nt,En=Object.keys(Me).map(Number);En.sort(fa),1!==r.opacity||this.containerReused&&!d.getOpaque(e.viewState.projection)?(Xt=[],pr=[]):En=En.reverse();for(let Qt=En.length-1;Qt>=0;--Qt){const Se=En[Qt],Ce=d.getTilePixelSize(Se,u,s),Hn=f.getResolution(Se)/p,rt=Ce[0]*Hn*tt,Ci=Ce[1]*Hn*tt,ph=f.getTileCoordForCoordAndZ(cr(te),Se),nE=f.getTileCoordExtent(ph),za=wt(this.tempTransform,[v*(nE[0]-te[0])/p,v*(te[3]-nE[3])/p]),TF=v*d.getGutterForProjection(s),rE=Me[Se];for(const bF in rE){const wi=rE[bF],iE=wi.tileCoord,sE=ph[1]-iE[1],MF=Math.round(za[0]-(sE-1)*rt),oE=ph[2]-iE[2],SF=Math.round(za[1]-(oE-1)*Ci),Cn=Math.round(za[0]-sE*rt),wn=Math.round(za[1]-oE*Ci),Ls=MF-Cn,Fs=SF-wn,aE=g===Se,lE=aE&&1!==wi.getAlpha(Je(this),e.time);let mh=!1;if(!lE)if(Xt){nt=[Cn,wn,Cn+Ls,wn,Cn+Ls,wn+Fs,Cn,wn+Fs];for(let Wa=0,AF=Xt.length;Wa<AF;++Wa)if(g!==Se&&Se<pr[Wa]){const Mt=Xt[Wa];wa([Cn,wn,Cn+Ls,wn+Fs],[Mt[0],Mt[3],Mt[4],Mt[7]])&&(mh||(Y.save(),mh=!0),Y.beginPath(),Y.moveTo(nt[0],nt[1]),Y.lineTo(nt[2],nt[3]),Y.lineTo(nt[4],nt[5]),Y.lineTo(nt[6],nt[7]),Y.moveTo(Mt[6],Mt[7]),Y.lineTo(Mt[4],Mt[5]),Y.lineTo(Mt[2],Mt[3]),Y.lineTo(Mt[0],Mt[1]),Y.clip())}Xt.push(nt),pr.push(Se)}else Y.clearRect(Cn,wn,Ls,Fs);this.drawTileImage(wi,e,Cn,wn,Ls,Fs,TF,aE),Xt&&!lE?(mh&&Y.restore(),this.renderedTiles.unshift(wi)):this.renderedTiles.push(wi),this.updateUsedTiles(e.usedTiles,d,wi)}}return this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Cd(this.renderedExtent_,te),this.renderedExtent_=te,this.renderedPixelRatio=u,this.renderedProjection=s,this.manageTilePyramid(e,d,f,u,s,y,g,c.getPreload()),this.scheduleExpireCache(e,d),this.postRender(Y,e),r.extent&&Y.restore(),Y.imageSmoothingEnabled=!0,ft!==gt.style.transform&&(gt.style.transform=ft),this.container}drawTileImage(e,n,r,i,s,o,a,l){const u=this.getTileImage(e);if(!u)return;const c=Je(this),d=n.layerStatesArray[n.layerIndex],h=d.opacity*(l?e.getAlpha(c,n.time):1),f=h!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,r,i,s,o),f&&this.context.restore(),h!==d.opacity?n.animate=!0:l&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=function(i,s,o){const a=Je(i);a in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[a])}.bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=Je(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,a,l,u){const c=Je(n);c in e.wantedTiles||(e.wantedTiles[c]={});const d=e.wantedTiles[c],h=e.tileQueue,f=r.getMinZoom(),g=e.viewState.rotation,p=g?Id(e.viewState.center,e.viewState.resolution,g,e.size):void 0;let _,v,m,D,C,b,y=0;for(b=f;b<=a;++b)for(v=r.getTileRangeForExtentAndZ(o,b,v),m=r.getResolution(b),D=v.minX;D<=v.maxX;++D)for(C=v.minY;C<=v.maxY;++C)g&&!r.tileCoordIntersectsViewport([b,D,C],p)||(a-b<=l?(++y,_=n.getTile(b,D,C,i,s),0==_.getState()&&(d[_.getKey()]=!0,h.isKeyQueued(_.getKey())||h.enqueue([_,c,r.getTileCoordCenter(_.tileCoord),m])),void 0!==u&&u(_)):n.useTile(b,D,C,s));n.updateCacheSize(y,s)}},KL=class ZL extends SL{constructor(e){super(e)}createRenderer(){return new WL(this)}},YL=class qL{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return Q(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return Q(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Q(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}};function qD(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Ns(t,e,n){return t+"/"+e+"/"+n}function YD(t){return Ns(t[0],t[1],t[2])}const XD=class eF extends YL{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const r=function XL(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(i){i.tileCoord[0]!==r&&(this.remove(YD(i.tileCoord)),i.release())}.bind(this))}};function QD(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const nF=class tF extends pn{constructor(e){super(),this.projection=Be(e.projection),this.attributions_=QD(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(){return ue()}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=QD(e),this.changed()}setState(e){this.state_=e,this.changed()}},rF=[0,0,0],JD=class iF{constructor(e){let n;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Q(function S1(t,e,n){const r=e||fa;return t.every(function(i,s){if(0===s)return!0;const o=r(t[s-1],i);return!(o>0||n&&0===o)})}(this.resolutions_,function(i,s){return s-i},!0),17),!e.origins)for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Q(this.origins_.length==this.resolutions_.length,20));const r=e.extent;void 0!==r&&!this.origin_&&!this.origins_&&(this.origin_=cr(r)),Q(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Q(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:256,Q(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(i,s){const o=new KD(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const a=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let a=i.minY,l=i.maxY;a<=l;++a)r([n,s,a])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,a,l=null,u=e[0]-1;for(2===this.zoomFactor_?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),s=Di(o,o,a,a,r)):s=this.getTileRangeForExtentAndZ(l,u,r),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const s=2*e[1],o=2*e[2];return Di(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return Di(s,o,s,o,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),u=Math.floor(s*l),c=Math.floor(o*l);return n<i?Di(u,u,c,c,r):Di(u,Math.floor(l*(s+1))-1,c,Math.floor(l*(o+1))-1,r)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),s=this.getResolution(e),o=vn(this.getTileSize(e),this.tmpSize_);return ur(i[0]+n.minX*o[0]*s,i[1]+n.minY*o[1]*s,i[0]+(n.maxX+1)*o[0]*s,i[1]+(n.maxY+1)*o[1]*s,r)}getTileRangeForExtentAndZ(e,n,r){const i=rF;this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,i);const s=i[1],o=i[2];return this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,i),Di(s,i[1],o,i[2],r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=vn(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=vn(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,a=r[1]-(e[2]+1)*s[1]*i;return ur(o,a,o+s[0]*i,a+s[1]*i,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),a=r/this.getResolution(o),l=this.getOrigin(o),u=vn(this.getTileSize(o),this.tmpSize_);let c=a*(e-l[0])/r/u[0],d=a*(l[1]-n)/r/u[1];return i?(c=ba(c,5)-1,d=ba(d,5)-1):(c=Ta(c,5),d=Ta(d,5)),qD(o,c,d,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),a=this.getResolution(r),l=vn(this.getTileSize(r),this.tmpSize_);let u=(e-o[0])/a/l[0],c=(o[1]-n)/a/l[1];return i?(u=ba(u,5)-1,c=ba(c,5)-1):(u=Ta(u,5),c=Ta(c,5)),qD(r,u,c,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){return Re(gd(this.resolutions_,e,n||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return SD(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}};function eE(t){let e=t.getDefaultTileGrid();return e||(e=function lF(t,e,n,r){return function oF(t,e,n,r){r=void 0!==r?r:"top-left";const i=tE(t,e,n);return new JD({extent:t,origin:X1(t,r),resolutions:i,tileSize:n})}(fh(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function tE(t,e,n,r){e=void 0!==e?e:42,n=vn(void 0!==n?n:256);const i=Vt(t),s=fe(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=r/Math.pow(2,l);return a}function fh(t){let e=(t=Be(t)).getExtent();if(!e){const n=180*bs.degrees/t.getMetersPerUnit();e=ur(-n,-n,n,n)}return e}class cF extends Nn{constructor(e,n){super(e),this.tile=n}}const dF=class uF extends nF{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&vn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new XD(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let a,l,u,o=!0;for(let c=r.minX;c<=r.maxX;++c)for(let d=r.minY;d<=r.maxY;++d)l=Ns(n,c,d),u=!1,s.containsKey(l)&&(a=s.get(l),u=2===a.getState(),u&&(u=!1!==i(a))),u||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(){return this.tileGrid?this.tileGrid.getResolutions():null}getTile(e,n,r,i,s){return ue()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:eE(e)}getTileCacheForProjection(e){const n=this.getProjection();return Q(null===n||pi(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=vn(i.getTileSize(e),this.tmpSize);return 1==s?o:function wL(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=void 0!==n?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function sF(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=fh(n);if(Ed(s,i))return e;{const o=fe(s),a=Math.ceil((s[0]-i[0])/o);return i[0]+=o*a,t.getTileCoordForCoordAndZ(i,r)}}(r,e,n)),function JL(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return!s||s.containsXY(r,i)}(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}};function hF(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const c=e.getFullTileRange(o[0]);return Q(c,55),(c.getHeight()-o[2]-1).toString()})}}class gh extends dF{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===gh.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=Je(n),i=n.getState();let s;1==i?(this.tileLoadingKeys_[r]=!0,s="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=3==i?"tileloaderror":2==i?"tileloadend":void 0),null!=s&&this.dispatchEvent(new cF(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=function pF(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function fF(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=hF(t[i],e);return function gF(t){return 1===t.length?t[0]:function(e,n,r){if(e){const i=function QL(t){return(t[1]<<t[0])+t[2]}(e),s=ci(i,t.length);return t[s](e,n,r)}}}(r)}(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=Ns(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const mF=gh;function _F(t,e){t.getImage().src=e}const vF=class yF extends mF{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:_F,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:UD,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!pi(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!pi(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||pi(n,e)))return this.tileGrid;{const r=Je(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=eE(e)),this.tileGridForProjection[r]}}getTileCacheForProjection(e){const n=this.getProjection();if(!n||pi(n,e))return this.tileCache;{const r=Je(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new XD(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}}createTile_(e,n,r,i,s,o){const a=[e,n,r],l=this.getTileCoordForTileUrlFunction(a,s),u=l?this.tileUrlFunction(l,i,s):void 0,c=new this.tileClass(a,void 0!==u?0:4,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener("change",this.handleTileChange.bind(this)),c}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||pi(o,s))return this.getTileInternal(e,n,r,i,o||s);{const a=this.getTileCacheForProjection(s),l=[e,n,r];let u;const c=YD(l);a.containsKey(c)&&(u=a.get(c));const d=this.getKey();if(u&&u.key==d)return u;{const h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(l,s),p=new dh(o,h,s,f,l,g,this.getTilePixelRatio(i),this.getGutter(),function(y,_,v,m){return this.getTileInternal(y,_,v,m,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return p.key=d,u?(p.interimTile=u,p.refreshInterimChain(),a.replace(c,p)):a.set(c,p),p}}}getTileInternal(e,n,r,i,s){let o=null;const a=Ns(e,n,r),l=this.getKey();if(this.tileCache.containsKey(a)){if(o=this.tileCache.get(a),o.key!=l){const u=o;o=this.createTile_(e,n,r,i,s,l),o.interimTile=0==u.getState()?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(e,n,r,i,s,l),this.tileCache.set(a,o);return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Be(e);if(r){const i=Je(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},EF=class DF extends vF{constructor(e){const n=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:function aF(t){const e=t||{},n=e.extent||Be("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:tE(n,e.maxZoom,e.tileSize,e.maxResolution)};return new JD(r)}({extent:fh(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}},IF=class wF extends EF{constructor(e){let n;n=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:e.wrapX,zDirection:e.zDirection})}};class $a{title(e){throw new Error("Method not implemented.")}ngOnInit(){this.map=new bL({view:new Vn({center:[0,0],zoom:1}),layers:[new KL({source:new IF})],target:"ol-map"})}static#e=this.\u0275fac=function(n){return new(n||$a)};static#t=this.\u0275cmp=fl({type:$a,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"title"],[1,"left-bar"],["id","ol-map",1,"map-container"]],template:function(n,r){1&n&&(Xr(0,"header")(1,"div",0),uc(2,"\u9019\u88e1\u662f Map Viewer - Openlayers & Angular"),Qr()(),Xr(3,"main"),rc(4,"div",1)(5,"div",2),Qr(),Xr(6,"footer"),uc(7," \u9019\u88e1\u662f \u5730\u5716\u7684Footer\n"),Qr())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}header[_ngcontent-%COMP%]{background-color:var(--header-color);padding:2em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:28px}main[_ngcontent-%COMP%]{display:flex;flex-grow:1}.left-bar[_ngcontent-%COMP%]{width:20em;background-color:var(--sidebar-color)}.map-container[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{background-color:var(--header-color);padding:1em}"]})}class Ga{static#e=this.\u0275fac=function(n){return new(n||Ga)};static#t=this.\u0275mod=xi({type:Ga,bootstrap:[$a]});static#n=this.\u0275inj=mr({imports:[p1]})}g1().bootstrapModule(Ga).catch(t=>console.error(t))}},ce=>{ce(ce.s=338)}]);